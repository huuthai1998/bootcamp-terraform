{
  "version": 4,
  "terraform_version": "1.4.6",
  "serial": 374,
  "lineage": "82c116d8-aa23-2648-547c-389fb58b59f1",
  "outputs": {
    "asdf": {
      "value": "vtbxmck-bootcamp",
      "type": "string"
    },
    "codecommit_repo_url": {
      "value": "VTC-Bootcamp",
      "type": "string"
    },
    "website_url": {
      "value": "http://vtbxmck-bootcamp-ui.s3-website.us-east-1.amazonaws.com",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_iam_policy",
      "name": "EC2Container",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryPowerUser",
            "description": "Provides full access to Amazon EC2 Container Registry repositories, but does not allow repository deletion or policy changes.",
            "id": "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryPowerUser",
            "name": "AmazonEC2ContainerRegistryPowerUser",
            "path": "/",
            "path_prefix": null,
            "policy": "{\n\t\"Version\": \"2012-10-17\",\n\t\"Statement\": [{\n\t\t\"Effect\": \"Allow\",\n\t\t\"Action\": [\n\t\t\t\"ecr:GetAuthorizationToken\",\n\t\t\t\"ecr:BatchCheckLayerAvailability\",\n\t\t\t\"ecr:GetDownloadUrlForLayer\",\n\t\t\t\"ecr:GetRepositoryPolicy\",\n\t\t\t\"ecr:DescribeRepositories\",\n\t\t\t\"ecr:ListImages\",\n\t\t\t\"ecr:DescribeImages\",\n\t\t\t\"ecr:BatchGetImage\",\n\t\t\t\"ecr:GetLifecyclePolicy\",\n\t\t\t\"ecr:GetLifecyclePolicyPreview\",\n\t\t\t\"ecr:ListTagsForResource\",\n\t\t\t\"ecr:DescribeImageScanFindings\",\n\t\t\t\"ecr:InitiateLayerUpload\",\n\t\t\t\"ecr:UploadLayerPart\",\n\t\t\t\"ecr:CompleteLayerUpload\",\n\t\t\t\"ecr:PutImage\"\n\t\t],\n\t\t\"Resource\": \"*\"\n\t}]\n}",
            "policy_id": "ANPAJDNE5PIHROIBGGDDW",
            "tags": {}
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "assume_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1229436035",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"codebuild.amazonaws.com\"\n      }\n    }\n  ]\n}",
            "override_policy_documents": null,
            "policy_id": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "codebuild.amazonaws.com"
                    ],
                    "type": "Service"
                  }
                ],
                "resources": [],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "assume_role_pipeline",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2245101310",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"codepipeline.amazonaws.com\"\n      }\n    }\n  ]\n}",
            "override_policy_documents": null,
            "policy_id": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "codepipeline.amazonaws.com"
                    ],
                    "type": "Service"
                  }
                ],
                "resources": [],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "codebuild_api",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "4276281027",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"logs:CreateLogGroup\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:DescribeVpcs\",\n        \"ec2:DescribeSubnets\",\n        \"ec2:DescribeSecurityGroups\",\n        \"ec2:DescribeNetworkInterfaces\",\n        \"ec2:DescribeDhcpOptions\",\n        \"ec2:DeleteNetworkInterface\",\n        \"ec2:CreateNetworkInterface\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:CreateNetworkInterfacePermission\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"ec2:AuthorizedService\": \"codebuild.amazonaws.com\"\n        }\n      }\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:*\",\n      \"Resource\": [\n        \"arn:aws:s3:::codebuild-log-vtb-bootcamp/*\",\n        \"arn:aws:s3:::codebuild-log-vtb-bootcamp\"\n      ]\n    }\n  ]\n}",
            "override_policy_documents": null,
            "policy_id": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "logs:CreateLogGroup",
                  "logs:CreateLogStream",
                  "logs:PutLogEvents"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": ""
              },
              {
                "actions": [
                  "ec2:CreateNetworkInterface",
                  "ec2:DeleteNetworkInterface",
                  "ec2:DescribeDhcpOptions",
                  "ec2:DescribeNetworkInterfaces",
                  "ec2:DescribeSecurityGroups",
                  "ec2:DescribeSubnets",
                  "ec2:DescribeVpcs"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": ""
              },
              {
                "actions": [
                  "ec2:CreateNetworkInterfacePermission"
                ],
                "condition": [
                  {
                    "test": "StringEquals",
                    "values": [
                      "codebuild.amazonaws.com"
                    ],
                    "variable": "ec2:AuthorizedService"
                  }
                ],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": ""
              },
              {
                "actions": [
                  "s3:*"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:s3:::codebuild-log-vtb-bootcamp",
                  "arn:aws:s3:::codebuild-log-vtb-bootcamp/*"
                ],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "codebuild_ui",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "4276281027",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"logs:CreateLogGroup\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:DescribeVpcs\",\n        \"ec2:DescribeSubnets\",\n        \"ec2:DescribeSecurityGroups\",\n        \"ec2:DescribeNetworkInterfaces\",\n        \"ec2:DescribeDhcpOptions\",\n        \"ec2:DeleteNetworkInterface\",\n        \"ec2:CreateNetworkInterface\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:CreateNetworkInterfacePermission\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"ec2:AuthorizedService\": \"codebuild.amazonaws.com\"\n        }\n      }\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:*\",\n      \"Resource\": [\n        \"arn:aws:s3:::codebuild-log-vtb-bootcamp/*\",\n        \"arn:aws:s3:::codebuild-log-vtb-bootcamp\"\n      ]\n    }\n  ]\n}",
            "override_policy_documents": null,
            "policy_id": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "logs:CreateLogGroup",
                  "logs:CreateLogStream",
                  "logs:PutLogEvents"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": ""
              },
              {
                "actions": [
                  "ec2:CreateNetworkInterface",
                  "ec2:DeleteNetworkInterface",
                  "ec2:DescribeDhcpOptions",
                  "ec2:DescribeNetworkInterfaces",
                  "ec2:DescribeSecurityGroups",
                  "ec2:DescribeSubnets",
                  "ec2:DescribeVpcs"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": ""
              },
              {
                "actions": [
                  "ec2:CreateNetworkInterfacePermission"
                ],
                "condition": [
                  {
                    "test": "StringEquals",
                    "values": [
                      "codebuild.amazonaws.com"
                    ],
                    "variable": "ec2:AuthorizedService"
                  }
                ],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": ""
              },
              {
                "actions": [
                  "s3:*"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:s3:::codebuild-log-vtb-bootcamp",
                  "arn:aws:s3:::codebuild-log-vtb-bootcamp/*"
                ],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "codepipeline_policy_api",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2286090597",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:PutObjectAcl\",\n        \"s3:PutObject\",\n        \"s3:GetObjectVersion\",\n        \"s3:GetObject\",\n        \"s3:GetBucketVersioning\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::pipeline-vtbxmck-api/*\",\n        \"arn:aws:s3:::pipeline-vtbxmck-api\"\n      ]\n    },\n    {\n      \"Sid\": \"codecommitaccess\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"codecommit:UploadArchive\",\n        \"codecommit:GetUploadArchiveStatus\",\n        \"codecommit:GetCommit\",\n        \"codecommit:GetBranch\",\n        \"codecommit:CancelUploadArchive\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"codebuild:StartBuild\",\n        \"codebuild:BatchGetBuilds\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "override_policy_documents": null,
            "policy_id": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "s3:GetBucketVersioning",
                  "s3:GetObject",
                  "s3:GetObjectVersion",
                  "s3:PutObject",
                  "s3:PutObjectAcl"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:s3:::pipeline-vtbxmck-api",
                  "arn:aws:s3:::pipeline-vtbxmck-api/*"
                ],
                "sid": ""
              },
              {
                "actions": [
                  "codecommit:CancelUploadArchive",
                  "codecommit:GetBranch",
                  "codecommit:GetCommit",
                  "codecommit:GetUploadArchiveStatus",
                  "codecommit:UploadArchive"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": "codecommitaccess"
              },
              {
                "actions": [
                  "codebuild:BatchGetBuilds",
                  "codebuild:StartBuild"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "codepipeline_policy_ui",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "608380254",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:PutObjectAcl\",\n        \"s3:PutObject\",\n        \"s3:GetObjectVersion\",\n        \"s3:GetObject\",\n        \"s3:GetBucketVersioning\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::pipeline-vtbxmck-ui/*\",\n        \"arn:aws:s3:::pipeline-vtbxmck-ui\"\n      ]\n    },\n    {\n      \"Sid\": \"codecommitaccess\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"codecommit:UploadArchive\",\n        \"codecommit:GetUploadArchiveStatus\",\n        \"codecommit:GetCommit\",\n        \"codecommit:GetBranch\",\n        \"codecommit:CancelUploadArchive\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"codebuild:StartBuild\",\n        \"codebuild:BatchGetBuilds\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "override_policy_documents": null,
            "policy_id": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "s3:GetBucketVersioning",
                  "s3:GetObject",
                  "s3:GetObjectVersion",
                  "s3:PutObject",
                  "s3:PutObjectAcl"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:s3:::pipeline-vtbxmck-ui",
                  "arn:aws:s3:::pipeline-vtbxmck-ui/*"
                ],
                "sid": ""
              },
              {
                "actions": [
                  "codecommit:CancelUploadArchive",
                  "codecommit:GetBranch",
                  "codecommit:GetCommit",
                  "codecommit:GetUploadArchiveStatus",
                  "codecommit:UploadArchive"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": "codecommitaccess"
              },
              {
                "actions": [
                  "codebuild:BatchGetBuilds",
                  "codebuild:StartBuild"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "local_file",
      "name": "api_buildspec_local",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "version: 0.2\nphases:\n  install:\n    commands:\n      - echo \"Install Phase - Nothing to do using latest Amazon Linux Docker Image for CodeBuild which has all AWS Tools - https://github.com/aws/aws-codebuild-docker-images/blob/master/al2/x86_64/standard/3.0/Dockerfile\"\n  pre_build:\n    commands:\n      - echo \"Verify AWS CLI Version...\"\n      - aws --version\n      # Login to ECR Registry for docker to push the image to ECR Repository\n      - echo \"Login in to Amazon ECR...\"\n      - aws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin $ECR_REPO_URL\n      # Update Kube config Home Directory\n      - export KUBECONFIG=$HOME/.kube/config\n      - cd api\n  build:\n    commands:\n      # Build Docker Image\n      - echo \"Build started on `date`\"\n      - echo \"Building the Docker image...\"\n      - docker build -t bootcamp-api .\n      - docker tag bootcamp-api:latest $ECR_REPO_URL/$ECR_IMAGE_NAME:latest\n  post_build:\n    commands:\n      # Push Docker Image to ECR Repository\n      - echo \"Build completed on `date`\"\n      - echo \"Pushing the Docker image to ECR Repository\"\n      - docker push $ECR_REPO_URL/$ECR_IMAGE_NAME:latest\n      - echo \"Docker Image Push to ECR Completed -  $REPOSITORY_URI:$TAG\"\n      # Extracting AWS Credential Information using STS Assume Role for kubectl\n      - echo \"Setting Environment Variables related to AWS CLI for Kube Config Setup\"\n      - CREDENTIALS=$(aws sts assume-role --role-arn $EKS_ROLE_ARN --role-session-name codebuild-kubectl --duration-seconds 900)\n      - export AWS_ACCESS_KEY_ID=\"$(echo ${CREDENTIALS} | jq -r '.Credentials.AccessKeyId')\"\n      - export AWS_SECRET_ACCESS_KEY=\"$(echo ${CREDENTIALS} | jq -r '.Credentials.SecretAccessKey')\"\n      - export AWS_SESSION_TOKEN=\"$(echo ${CREDENTIALS} | jq -r '.Credentials.SessionToken')\"\n      - export AWS_EXPIRATION=$(echo ${CREDENTIALS} | jq -r '.Credentials.Expiration')\n      # Setup kubectl with our EKS Cluster\n      - echo \"Update Kube Config\"\n      - aws eks update-kubeconfig --name $EKS_CLUSTER_NAME\n      # Apply changes to our Application using kubectl\n      - echo \"Apply changes to kube manifests\"\n      - kubectl apply -f $DEPLOYMENT_YML_FILE\n      - echo \"Completed applying changes to Kubernetes Objects\"\n\nartifacts:\n  files:\n    - build.json\n    - kube-manifests/*\n",
            "content_base64": "dmVyc2lvbjogMC4yCnBoYXNlczoKICBpbnN0YWxsOgogICAgY29tbWFuZHM6CiAgICAgIC0gZWNobyAiSW5zdGFsbCBQaGFzZSAtIE5vdGhpbmcgdG8gZG8gdXNpbmcgbGF0ZXN0IEFtYXpvbiBMaW51eCBEb2NrZXIgSW1hZ2UgZm9yIENvZGVCdWlsZCB3aGljaCBoYXMgYWxsIEFXUyBUb29scyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9hd3MvYXdzLWNvZGVidWlsZC1kb2NrZXItaW1hZ2VzL2Jsb2IvbWFzdGVyL2FsMi94ODZfNjQvc3RhbmRhcmQvMy4wL0RvY2tlcmZpbGUiCiAgcHJlX2J1aWxkOgogICAgY29tbWFuZHM6CiAgICAgIC0gZWNobyAiVmVyaWZ5IEFXUyBDTEkgVmVyc2lvbi4uLiIKICAgICAgLSBhd3MgLS12ZXJzaW9uCiAgICAgICMgTG9naW4gdG8gRUNSIFJlZ2lzdHJ5IGZvciBkb2NrZXIgdG8gcHVzaCB0aGUgaW1hZ2UgdG8gRUNSIFJlcG9zaXRvcnkKICAgICAgLSBlY2hvICJMb2dpbiBpbiB0byBBbWF6b24gRUNSLi4uIgogICAgICAtIGF3cyBlY3IgZ2V0LWxvZ2luLXBhc3N3b3JkIC0tcmVnaW9uIHVzLWVhc3QtMSB8IGRvY2tlciBsb2dpbiAtLXVzZXJuYW1lIEFXUyAtLXBhc3N3b3JkLXN0ZGluICRFQ1JfUkVQT19VUkwKICAgICAgIyBVcGRhdGUgS3ViZSBjb25maWcgSG9tZSBEaXJlY3RvcnkKICAgICAgLSBleHBvcnQgS1VCRUNPTkZJRz0kSE9NRS8ua3ViZS9jb25maWcKICAgICAgLSBjZCBhcGkKICBidWlsZDoKICAgIGNvbW1hbmRzOgogICAgICAjIEJ1aWxkIERvY2tlciBJbWFnZQogICAgICAtIGVjaG8gIkJ1aWxkIHN0YXJ0ZWQgb24gYGRhdGVgIgogICAgICAtIGVjaG8gIkJ1aWxkaW5nIHRoZSBEb2NrZXIgaW1hZ2UuLi4iCiAgICAgIC0gZG9ja2VyIGJ1aWxkIC10IGJvb3RjYW1wLWFwaSAuCiAgICAgIC0gZG9ja2VyIHRhZyBib290Y2FtcC1hcGk6bGF0ZXN0ICRFQ1JfUkVQT19VUkwvJEVDUl9JTUFHRV9OQU1FOmxhdGVzdAogIHBvc3RfYnVpbGQ6CiAgICBjb21tYW5kczoKICAgICAgIyBQdXNoIERvY2tlciBJbWFnZSB0byBFQ1IgUmVwb3NpdG9yeQogICAgICAtIGVjaG8gIkJ1aWxkIGNvbXBsZXRlZCBvbiBgZGF0ZWAiCiAgICAgIC0gZWNobyAiUHVzaGluZyB0aGUgRG9ja2VyIGltYWdlIHRvIEVDUiBSZXBvc2l0b3J5IgogICAgICAtIGRvY2tlciBwdXNoICRFQ1JfUkVQT19VUkwvJEVDUl9JTUFHRV9OQU1FOmxhdGVzdAogICAgICAtIGVjaG8gIkRvY2tlciBJbWFnZSBQdXNoIHRvIEVDUiBDb21wbGV0ZWQgLSAgJFJFUE9TSVRPUllfVVJJOiRUQUciCiAgICAgICMgRXh0cmFjdGluZyBBV1MgQ3JlZGVudGlhbCBJbmZvcm1hdGlvbiB1c2luZyBTVFMgQXNzdW1lIFJvbGUgZm9yIGt1YmVjdGwKICAgICAgLSBlY2hvICJTZXR0aW5nIEVudmlyb25tZW50IFZhcmlhYmxlcyByZWxhdGVkIHRvIEFXUyBDTEkgZm9yIEt1YmUgQ29uZmlnIFNldHVwIgogICAgICAtIENSRURFTlRJQUxTPSQoYXdzIHN0cyBhc3N1bWUtcm9sZSAtLXJvbGUtYXJuICRFS1NfUk9MRV9BUk4gLS1yb2xlLXNlc3Npb24tbmFtZSBjb2RlYnVpbGQta3ViZWN0bCAtLWR1cmF0aW9uLXNlY29uZHMgOTAwKQogICAgICAtIGV4cG9ydCBBV1NfQUNDRVNTX0tFWV9JRD0iJChlY2hvICR7Q1JFREVOVElBTFN9IHwganEgLXIgJy5DcmVkZW50aWFscy5BY2Nlc3NLZXlJZCcpIgogICAgICAtIGV4cG9ydCBBV1NfU0VDUkVUX0FDQ0VTU19LRVk9IiQoZWNobyAke0NSRURFTlRJQUxTfSB8IGpxIC1yICcuQ3JlZGVudGlhbHMuU2VjcmV0QWNjZXNzS2V5JykiCiAgICAgIC0gZXhwb3J0IEFXU19TRVNTSU9OX1RPS0VOPSIkKGVjaG8gJHtDUkVERU5USUFMU30gfCBqcSAtciAnLkNyZWRlbnRpYWxzLlNlc3Npb25Ub2tlbicpIgogICAgICAtIGV4cG9ydCBBV1NfRVhQSVJBVElPTj0kKGVjaG8gJHtDUkVERU5USUFMU30gfCBqcSAtciAnLkNyZWRlbnRpYWxzLkV4cGlyYXRpb24nKQogICAgICAjIFNldHVwIGt1YmVjdGwgd2l0aCBvdXIgRUtTIENsdXN0ZXIKICAgICAgLSBlY2hvICJVcGRhdGUgS3ViZSBDb25maWciCiAgICAgIC0gYXdzIGVrcyB1cGRhdGUta3ViZWNvbmZpZyAtLW5hbWUgJEVLU19DTFVTVEVSX05BTUUKICAgICAgIyBBcHBseSBjaGFuZ2VzIHRvIG91ciBBcHBsaWNhdGlvbiB1c2luZyBrdWJlY3RsCiAgICAgIC0gZWNobyAiQXBwbHkgY2hhbmdlcyB0byBrdWJlIG1hbmlmZXN0cyIKICAgICAgLSBrdWJlY3RsIGFwcGx5IC1mICRERVBMT1lNRU5UX1lNTF9GSUxFCiAgICAgIC0gZWNobyAiQ29tcGxldGVkIGFwcGx5aW5nIGNoYW5nZXMgdG8gS3ViZXJuZXRlcyBPYmplY3RzIgoKYXJ0aWZhY3RzOgogIGZpbGVzOgogICAgLSBidWlsZC5qc29uCiAgICAtIGt1YmUtbWFuaWZlc3RzLyoK",
            "content_base64sha256": "GhUjZncGIcxWNaujKu/dMlCCq/MfT8NfAI2umS6Ak5U=",
            "content_base64sha512": "r6LW0MebQCyJjLpvvBadUiYTxLpcGfaEGPDq8ay+o+OlKrq/6fSFB5W+2Fo+rfE6pD7/348Whowil1rYNMoQYA==",
            "content_md5": "b5e333e8b4be1e8cdc0fbbe65c14add3",
            "content_sha1": "2a44a760405cb3c7a551e4468f939a48f40b8632",
            "content_sha256": "1a152366770621cc5635aba32aefdd325082abf31f4fc35f008dae992e809395",
            "content_sha512": "afa2d6d0c79b402c898cba6fbc169d522613c4ba5c19f68418f0eaf1acbea3e3a52ababfe9f4850795bed85a3eadf13aa43effdf8f16868c22975ad834ca1060",
            "filename": "./api-buildspec.yml",
            "id": "2a44a760405cb3c7a551e4468f939a48f40b8632"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "local_file",
      "name": "ui_buildspec_local",
      "provider": "provider[\"registry.terraform.io/hashicorp/local\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "version: 0.2\nphases:\n  install:\n    #If you use the Ubuntu standard image 2.0 or later, you must specify runtime-versions.\n    #If you specify runtime-versions and use an image other than Ubuntu standard image 2.0, the build fails.\n    runtime-versions:\n      nodejs: 16\n  pre_build:\n    commands:\n      - cd ui\n      - echo Installing source NPM dependencies...\n      - npm install\n  build:\n    commands:\n      - echo Build started on 'date'\n      - npm run build\n  post_build:\n    commands:\n      - aws s3 cp --recursive --acl public-read ./build s3://$S3_BUCKET_UI/\n      - aws s3 cp --acl public-read --cache-control=\"max-age=0, no-cache, no-store, must-revalidate\" ./build/index.html s3://$S3_BUCKET_UI/\n",
            "content_base64": "dmVyc2lvbjogMC4yCnBoYXNlczoKICBpbnN0YWxsOgogICAgI0lmIHlvdSB1c2UgdGhlIFVidW50dSBzdGFuZGFyZCBpbWFnZSAyLjAgb3IgbGF0ZXIsIHlvdSBtdXN0IHNwZWNpZnkgcnVudGltZS12ZXJzaW9ucy4KICAgICNJZiB5b3Ugc3BlY2lmeSBydW50aW1lLXZlcnNpb25zIGFuZCB1c2UgYW4gaW1hZ2Ugb3RoZXIgdGhhbiBVYnVudHUgc3RhbmRhcmQgaW1hZ2UgMi4wLCB0aGUgYnVpbGQgZmFpbHMuCiAgICBydW50aW1lLXZlcnNpb25zOgogICAgICBub2RlanM6IDE2CiAgcHJlX2J1aWxkOgogICAgY29tbWFuZHM6CiAgICAgIC0gY2QgdWkKICAgICAgLSBlY2hvIEluc3RhbGxpbmcgc291cmNlIE5QTSBkZXBlbmRlbmNpZXMuLi4KICAgICAgLSBucG0gaW5zdGFsbAogIGJ1aWxkOgogICAgY29tbWFuZHM6CiAgICAgIC0gZWNobyBCdWlsZCBzdGFydGVkIG9uICdkYXRlJwogICAgICAtIG5wbSBydW4gYnVpbGQKICBwb3N0X2J1aWxkOgogICAgY29tbWFuZHM6CiAgICAgIC0gYXdzIHMzIGNwIC0tcmVjdXJzaXZlIC0tYWNsIHB1YmxpYy1yZWFkIC4vYnVpbGQgczM6Ly8kUzNfQlVDS0VUX1VJLwogICAgICAtIGF3cyBzMyBjcCAtLWFjbCBwdWJsaWMtcmVhZCAtLWNhY2hlLWNvbnRyb2w9Im1heC1hZ2U9MCwgbm8tY2FjaGUsIG5vLXN0b3JlLCBtdXN0LXJldmFsaWRhdGUiIC4vYnVpbGQvaW5kZXguaHRtbCBzMzovLyRTM19CVUNLRVRfVUkvCg==",
            "content_base64sha256": "j9UYEPOREGwopGo1CHIvK3TskNFhj0SVJzQEgMffVJ4=",
            "content_base64sha512": "mcFuvq+mw40o5VYoyMPaapDuep5zZGmZ1JO2skjqwarXgMsnCkJB1VLecOs74QcXM9dKZBzkjM8dwf1HlmOVvg==",
            "content_md5": "0f7d4ae979e4a739790c563bc82413cc",
            "content_sha1": "c608aee6e04f93308032fc99d713aeb60fdebf5c",
            "content_sha256": "8fd51810f391106c28a46a3508722f2b74ec90d1618f449527340480c7df549e",
            "content_sha512": "99c16ebeafa6c38d28e55628c8c3da6a90ee7a9e73646999d493b6b248eac1aad780cb270a4241d552de70eb3be1071733d74a641ce48ccf1dc1fd47966395be",
            "filename": "./ui-buildspec.yml",
            "id": "c608aee6e04f93308032fc99d713aeb60fdebf5c"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_codebuild_project",
      "name": "api",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:codebuild:us-east-1:371198079589:project/api-bootcamp",
            "artifacts": [
              {
                "artifact_identifier": "",
                "bucket_owner_access": "",
                "encryption_disabled": false,
                "location": "",
                "name": "",
                "namespace_type": "",
                "override_artifact_name": false,
                "packaging": "",
                "path": "",
                "type": "NO_ARTIFACTS"
              }
            ],
            "badge_enabled": false,
            "badge_url": "",
            "build_batch_config": [],
            "build_timeout": 5,
            "cache": [
              {
                "location": "codebuild-log-vtb-bootcamp",
                "modes": [],
                "type": "S3"
              }
            ],
            "concurrent_build_limit": 0,
            "description": "API Bootcamp project",
            "encryption_key": "arn:aws:kms:us-east-1:371198079589:alias/aws/s3",
            "environment": [
              {
                "certificate": "",
                "compute_type": "BUILD_GENERAL1_SMALL",
                "environment_variable": [
                  {
                    "name": "ECR_IMAGE_NAME",
                    "type": "PLAINTEXT",
                    "value": "bootcamp-api"
                  },
                  {
                    "name": "ECR_REPO_URL",
                    "type": "PLAINTEXT",
                    "value": "371198079589.dkr.ecr.us-east-1.amazonaws.com"
                  },
                  {
                    "name": "EKS_ROLE_ARN",
                    "type": "PLAINTEXT",
                    "value": "arn:aws:iam::371198079589:role/vtbxmck-bootcamp-eks-cluster-role"
                  },
                  {
                    "name": "EKS_CLUSTER_NAME",
                    "type": "PLAINTEXT",
                    "value": "vtbxmck-bootcamp"
                  },
                  {
                    "name": "DEPLOYMENT_YML_FILE",
                    "type": "PLAINTEXT",
                    "value": "ECR-Nginx-Deployment.yml"
                  }
                ],
                "image": "aws/codebuild/amazonlinux2-x86_64-standard:4.0",
                "image_pull_credentials_type": "CODEBUILD",
                "privileged_mode": true,
                "registry_credential": [],
                "type": "LINUX_CONTAINER"
              }
            ],
            "file_system_locations": [],
            "id": "arn:aws:codebuild:us-east-1:371198079589:project/api-bootcamp",
            "logs_config": [
              {
                "cloudwatch_logs": [
                  {
                    "group_name": "log-group",
                    "status": "ENABLED",
                    "stream_name": "log-stream"
                  }
                ],
                "s3_logs": [
                  {
                    "bucket_owner_access": "",
                    "encryption_disabled": false,
                    "location": "codebuild-log-vtb-bootcamp/build-log",
                    "status": "ENABLED"
                  }
                ]
              }
            ],
            "name": "api-bootcamp",
            "project_visibility": "PRIVATE",
            "public_project_alias": "",
            "queued_timeout": 480,
            "resource_access_role": "",
            "secondary_artifacts": [],
            "secondary_source_version": [],
            "secondary_sources": [],
            "service_role": "arn:aws:iam::371198079589:role/codebuild-api",
            "source": [
              {
                "build_status_config": [],
                "buildspec": "version: 0.2\nphases:\n  install:\n    commands:\n      - echo \"Install Phase - Nothing to do using latest Amazon Linux Docker Image for CodeBuild which has all AWS Tools - https://github.com/aws/aws-codebuild-docker-images/blob/master/al2/x86_64/standard/3.0/Dockerfile\"\n  pre_build:\n    commands:\n      - echo \"Verify AWS CLI Version...\"\n      - aws --version\n      # Login to ECR Registry for docker to push the image to ECR Repository\n      - echo \"Login in to Amazon ECR...\"\n      - aws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin $ECR_REPO_URL\n      # Update Kube config Home Directory\n      - export KUBECONFIG=$HOME/.kube/config\n      - cd api\n  build:\n    commands:\n      # Build Docker Image\n      - echo \"Build started on `date`\"\n      - echo \"Building the Docker image...\"\n      - docker build -t bootcamp-api .\n      - docker tag bootcamp-api:latest $ECR_REPO_URL/$ECR_IMAGE_NAME:latest\n  post_build:\n    commands:\n      # Push Docker Image to ECR Repository\n      - echo \"Build completed on `date`\"\n      - echo \"Pushing the Docker image to ECR Repository\"\n      - docker push $ECR_REPO_URL/$ECR_IMAGE_NAME:latest\n      - echo \"Docker Image Push to ECR Completed -  $REPOSITORY_URI:$TAG\"\n      # Extracting AWS Credential Information using STS Assume Role for kubectl\n      - echo \"Setting Environment Variables related to AWS CLI for Kube Config Setup\"\n      - CREDENTIALS=$(aws sts assume-role --role-arn $EKS_ROLE_ARN --role-session-name codebuild-kubectl --duration-seconds 900)\n      - export AWS_ACCESS_KEY_ID=\"$(echo ${CREDENTIALS} | jq -r '.Credentials.AccessKeyId')\"\n      - export AWS_SECRET_ACCESS_KEY=\"$(echo ${CREDENTIALS} | jq -r '.Credentials.SecretAccessKey')\"\n      - export AWS_SESSION_TOKEN=\"$(echo ${CREDENTIALS} | jq -r '.Credentials.SessionToken')\"\n      - export AWS_EXPIRATION=$(echo ${CREDENTIALS} | jq -r '.Credentials.Expiration')\n      # Setup kubectl with our EKS Cluster\n      - echo \"Update Kube Config\"\n      - aws eks update-kubeconfig --name $EKS_CLUSTER_NAME\n      # Apply changes to our Application using kubectl\n      - echo \"Apply changes to kube manifests\"\n      - kubectl apply -f $DEPLOYMENT_YML_FILE\n      - echo \"Completed applying changes to Kubernetes Objects\"\n\nartifacts:\n  files:\n    - build.json\n    - kube-manifests/*\n",
                "git_clone_depth": 1,
                "git_submodules_config": [
                  {
                    "fetch_submodules": true
                  }
                ],
                "insecure_ssl": false,
                "location": "https://git-codecommit.us-east-1.amazonaws.com/v1/repos/VTC-Bootcamp",
                "report_build_status": false,
                "type": "CODECOMMIT"
              }
            ],
            "source_version": "refs/heads/main",
            "tags": {
              "Environment": "Test"
            },
            "tags_all": {
              "Environment": "Test"
            },
            "vpc_config": [
              {
                "security_group_ids": [
                  "sg-082cc0efcee8ad457"
                ],
                "subnets": [
                  "subnet-04519d94985a172cc",
                  "subnet-0933ed5932e1155d7"
                ],
                "vpc_id": "vpc-0142ed266c5de6da2"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_codecommit_repository.bootcamp",
            "aws_iam_role.codebuild_api",
            "aws_s3_bucket.bootcamp-codebuild",
            "data.aws_iam_policy_document.assume_role",
            "data.local_file.api_buildspec_local"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_codebuild_project",
      "name": "ui",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:codebuild:us-east-1:371198079589:project/ui-bootcamp",
            "artifacts": [
              {
                "artifact_identifier": "",
                "bucket_owner_access": "",
                "encryption_disabled": false,
                "location": "",
                "name": "",
                "namespace_type": "",
                "override_artifact_name": false,
                "packaging": "",
                "path": "",
                "type": "NO_ARTIFACTS"
              }
            ],
            "badge_enabled": false,
            "badge_url": "",
            "build_batch_config": [],
            "build_timeout": 5,
            "cache": [
              {
                "location": "codebuild-log-vtb-bootcamp",
                "modes": [],
                "type": "S3"
              }
            ],
            "concurrent_build_limit": 0,
            "description": "ui Bootcamp project",
            "encryption_key": "arn:aws:kms:us-east-1:371198079589:alias/aws/s3",
            "environment": [
              {
                "certificate": "",
                "compute_type": "BUILD_GENERAL1_SMALL",
                "environment_variable": [
                  {
                    "name": "S3_BUCKET_UI",
                    "type": "PLAINTEXT",
                    "value": "vtbxmck-bootcamp-ui"
                  }
                ],
                "image": "aws/codebuild/amazonlinux2-x86_64-standard:4.0",
                "image_pull_credentials_type": "CODEBUILD",
                "privileged_mode": false,
                "registry_credential": [],
                "type": "LINUX_CONTAINER"
              }
            ],
            "file_system_locations": [],
            "id": "arn:aws:codebuild:us-east-1:371198079589:project/ui-bootcamp",
            "logs_config": [
              {
                "cloudwatch_logs": [
                  {
                    "group_name": "log-group",
                    "status": "ENABLED",
                    "stream_name": "log-stream"
                  }
                ],
                "s3_logs": [
                  {
                    "bucket_owner_access": "",
                    "encryption_disabled": false,
                    "location": "codebuild-log-vtb-bootcamp/build-log",
                    "status": "ENABLED"
                  }
                ]
              }
            ],
            "name": "ui-bootcamp",
            "project_visibility": "PRIVATE",
            "public_project_alias": "",
            "queued_timeout": 480,
            "resource_access_role": "",
            "secondary_artifacts": [],
            "secondary_source_version": [],
            "secondary_sources": [],
            "service_role": "arn:aws:iam::371198079589:role/codebuild-ui",
            "source": [
              {
                "build_status_config": [],
                "buildspec": "version: 0.2\nphases:\n  install:\n    #If you use the Ubuntu standard image 2.0 or later, you must specify runtime-versions.\n    #If you specify runtime-versions and use an image other than Ubuntu standard image 2.0, the build fails.\n    runtime-versions:\n      nodejs: 16\n  pre_build:\n    commands:\n      - cd ui\n      - echo Installing source NPM dependencies...\n      - npm install\n  build:\n    commands:\n      - echo Build started on 'date'\n      - npm run build\n  post_build:\n    commands:\n      - aws s3 cp --recursive --acl public-read ./build s3://$S3_BUCKET_UI/\n      - aws s3 cp --acl public-read --cache-control=\"max-age=0, no-cache, no-store, must-revalidate\" ./build/index.html s3://$S3_BUCKET_UI/\n",
                "git_clone_depth": 1,
                "git_submodules_config": [
                  {
                    "fetch_submodules": true
                  }
                ],
                "insecure_ssl": false,
                "location": "https://git-codecommit.us-east-1.amazonaws.com/v1/repos/VTC-Bootcamp",
                "report_build_status": false,
                "type": "CODECOMMIT"
              }
            ],
            "source_version": "refs/heads/main",
            "tags": {
              "Environment": "Test"
            },
            "tags_all": {
              "Environment": "Test"
            },
            "vpc_config": [
              {
                "security_group_ids": [
                  "sg-082cc0efcee8ad457"
                ],
                "subnets": [
                  "subnet-04519d94985a172cc",
                  "subnet-0933ed5932e1155d7"
                ],
                "vpc_id": "vpc-0142ed266c5de6da2"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_codecommit_repository.bootcamp",
            "aws_iam_role.codebuild_ui",
            "aws_s3_bucket.bootcamp-codebuild",
            "aws_s3_bucket.example",
            "data.aws_iam_policy_document.assume_role",
            "data.local_file.ui_buildspec_local"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_codecommit_repository",
      "name": "bootcamp",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:codecommit:us-east-1:371198079589:VTC-Bootcamp",
            "clone_url_http": "https://git-codecommit.us-east-1.amazonaws.com/v1/repos/VTC-Bootcamp",
            "clone_url_ssh": "ssh://git-codecommit.us-east-1.amazonaws.com/v1/repos/VTC-Bootcamp",
            "default_branch": null,
            "description": "Bootcamp Snoodle Repository",
            "id": "VTC-Bootcamp",
            "repository_id": "b479282b-22f1-4ebf-b6a8-df15215aa318",
            "repository_name": "VTC-Bootcamp",
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_codepipeline",
      "name": "codepipeline-api",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:codepipeline:us-east-1:371198079589:api-bootcamp",
            "artifact_store": [
              {
                "encryption_key": [],
                "location": "pipeline-vtbxmck-api",
                "region": "",
                "type": "S3"
              }
            ],
            "id": "api-bootcamp",
            "name": "api-bootcamp",
            "role_arn": "arn:aws:iam::371198079589:role/codepipeline_role_api",
            "stage": [
              {
                "action": [
                  {
                    "category": "Source",
                    "configuration": {
                      "BranchName": "main",
                      "OutputArtifactFormat": "CODE_ZIP",
                      "PollForSourceChanges": "true",
                      "RepositoryName": "VTC-Bootcamp"
                    },
                    "input_artifacts": [],
                    "name": "Source",
                    "namespace": "",
                    "output_artifacts": [
                      "SOURCE_ARTIFACT"
                    ],
                    "owner": "AWS",
                    "provider": "CodeCommit",
                    "region": "",
                    "role_arn": "",
                    "run_order": 1,
                    "version": "1"
                  }
                ],
                "name": "Source"
              },
              {
                "action": [
                  {
                    "category": "Build",
                    "configuration": {
                      "ProjectName": "api-bootcamp"
                    },
                    "input_artifacts": [
                      "SOURCE_ARTIFACT"
                    ],
                    "name": "Build",
                    "namespace": "",
                    "output_artifacts": [
                      "build_output"
                    ],
                    "owner": "AWS",
                    "provider": "CodeBuild",
                    "region": "",
                    "role_arn": "",
                    "run_order": 1,
                    "version": "1"
                  }
                ],
                "name": "Build"
              }
            ],
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_codebuild_project.api",
            "aws_codecommit_repository.bootcamp",
            "aws_iam_role.codebuild_api",
            "aws_iam_role.codepipeline_role_api",
            "aws_s3_bucket.bootcamp-codebuild",
            "aws_s3_bucket.codepipeline_bucket_api",
            "data.aws_iam_policy_document.assume_role",
            "data.aws_iam_policy_document.assume_role_pipeline",
            "data.local_file.api_buildspec_local"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_codepipeline",
      "name": "codepipeline-ui",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:codepipeline:us-east-1:371198079589:ui-bootcamp",
            "artifact_store": [
              {
                "encryption_key": [],
                "location": "pipeline-vtbxmck-ui",
                "region": "",
                "type": "S3"
              }
            ],
            "id": "ui-bootcamp",
            "name": "ui-bootcamp",
            "role_arn": "arn:aws:iam::371198079589:role/codepipeline_role_ui",
            "stage": [
              {
                "action": [
                  {
                    "category": "Source",
                    "configuration": {
                      "BranchName": "main",
                      "OutputArtifactFormat": "CODE_ZIP",
                      "PollForSourceChanges": "true",
                      "RepositoryName": "VTC-Bootcamp"
                    },
                    "input_artifacts": [],
                    "name": "Source",
                    "namespace": "",
                    "output_artifacts": [
                      "SOURCE_ARTIFACT"
                    ],
                    "owner": "AWS",
                    "provider": "CodeCommit",
                    "region": "",
                    "role_arn": "",
                    "run_order": 1,
                    "version": "1"
                  }
                ],
                "name": "Source"
              },
              {
                "action": [
                  {
                    "category": "Build",
                    "configuration": {
                      "ProjectName": "ui-bootcamp"
                    },
                    "input_artifacts": [
                      "SOURCE_ARTIFACT"
                    ],
                    "name": "Build",
                    "namespace": "",
                    "output_artifacts": [
                      "build_output"
                    ],
                    "owner": "AWS",
                    "provider": "CodeBuild",
                    "region": "",
                    "role_arn": "",
                    "run_order": 1,
                    "version": "1"
                  }
                ],
                "name": "Build"
              }
            ],
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_codebuild_project.ui",
            "aws_codecommit_repository.bootcamp",
            "aws_iam_role.codebuild_ui",
            "aws_iam_role.codepipeline_role_ui",
            "aws_s3_bucket.bootcamp-codebuild",
            "aws_s3_bucket.codepipeline_bucket_ui",
            "aws_s3_bucket.example",
            "data.aws_iam_policy_document.assume_role",
            "data.aws_iam_policy_document.assume_role_pipeline",
            "data.local_file.ui_buildspec_local"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_db_instance",
      "name": "bootcamp",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "address": "terraform-20231002153727678900000001.cmgow8m5u0wk.us-east-1.rds.amazonaws.com",
            "allocated_storage": 5,
            "allow_major_version_upgrade": null,
            "apply_immediately": false,
            "arn": "arn:aws:rds:us-east-1:371198079589:db:terraform-20231002153727678900000001",
            "auto_minor_version_upgrade": true,
            "availability_zone": "us-east-1a",
            "backup_retention_period": 0,
            "backup_target": "region",
            "backup_window": "09:13-09:43",
            "blue_green_update": [],
            "ca_cert_identifier": "rds-ca-2019",
            "character_set_name": "",
            "copy_tags_to_snapshot": false,
            "custom_iam_instance_profile": "",
            "customer_owned_ip_enabled": false,
            "db_name": "bootcamp123",
            "db_subnet_group_name": "main",
            "delete_automated_backups": true,
            "deletion_protection": false,
            "domain": "",
            "domain_iam_role_name": "",
            "enabled_cloudwatch_logs_exports": [],
            "endpoint": "terraform-20231002153727678900000001.cmgow8m5u0wk.us-east-1.rds.amazonaws.com:5432",
            "engine": "postgres",
            "engine_version": "15.3",
            "engine_version_actual": "15.3",
            "final_snapshot_identifier": null,
            "hosted_zone_id": "Z2R2ITUGPM61AM",
            "iam_database_authentication_enabled": false,
            "id": "db-JHDKGAOOQGR6MW3TWLVA44W26M",
            "identifier": "terraform-20231002153727678900000001",
            "identifier_prefix": "terraform-",
            "instance_class": "db.t3.micro",
            "iops": 0,
            "kms_key_id": "",
            "latest_restorable_time": "",
            "license_model": "postgresql-license",
            "listener_endpoint": [],
            "maintenance_window": "fri:08:36-fri:09:06",
            "manage_master_user_password": null,
            "master_user_secret": [],
            "master_user_secret_kms_key_id": null,
            "max_allocated_storage": 0,
            "monitoring_interval": 0,
            "monitoring_role_arn": "",
            "multi_az": false,
            "nchar_character_set_name": "",
            "network_type": "IPV4",
            "option_group_name": "default:postgres-15",
            "parameter_group_name": "default.postgres15",
            "password": "12345678",
            "performance_insights_enabled": false,
            "performance_insights_kms_key_id": "",
            "performance_insights_retention_period": 0,
            "port": 5432,
            "publicly_accessible": true,
            "replica_mode": "",
            "replicas": [],
            "replicate_source_db": "",
            "resource_id": "db-JHDKGAOOQGR6MW3TWLVA44W26M",
            "restore_to_point_in_time": [],
            "s3_import": [],
            "skip_final_snapshot": true,
            "snapshot_identifier": null,
            "status": "available",
            "storage_encrypted": false,
            "storage_throughput": 0,
            "storage_type": "gp2",
            "tags": {},
            "tags_all": {},
            "timeouts": null,
            "timezone": "",
            "username": "postgres",
            "vpc_security_group_ids": [
              "sg-082cc0efcee8ad457"
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInVwZGF0ZSI6NDgwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMiJ9",
          "dependencies": [
            "aws_db_subnet_group.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_db_subnet_group",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:rds:us-east-1:371198079589:subgrp:main",
            "description": "Managed by Terraform",
            "id": "main",
            "name": "main",
            "name_prefix": "",
            "subnet_ids": [
              "subnet-01fda852bbec5aed5",
              "subnet-0368ee10ab9aa48f5",
              "subnet-04519d94985a172cc",
              "subnet-0933ed5932e1155d7"
            ],
            "supported_network_types": [
              "IPV4"
            ],
            "tags": {
              "Name": "My DB subnet group"
            },
            "tags_all": {
              "Name": "My DB subnet group"
            },
            "vpc_id": "vpc-0142ed266c5de6da2"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecr_repository",
      "name": "api",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:us-east-1:371198079589:repository/bootcamp-api",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "force_delete": null,
            "id": "bootcamp-api",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "name": "bootcamp-api",
            "registry_id": "371198079589",
            "repository_url": "371198079589.dkr.ecr.us-east-1.amazonaws.com/bootcamp-api",
            "tags": {},
            "tags_all": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_eks_addon",
      "name": "coredns",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "addon_name": "coredns",
            "addon_version": "v1.10.1-eksbuild.1",
            "arn": "arn:aws:eks:us-east-1:371198079589:addon/vtbxmck-bootcamp/coredns/aac56ac8-baeb-7f20-4795-05d33bf8f458",
            "cluster_name": "vtbxmck-bootcamp",
            "configuration_values": "",
            "created_at": "2023-09-27T07:36:34Z",
            "id": "vtbxmck-bootcamp:coredns",
            "modified_at": "2023-09-27T07:36:44Z",
            "preserve": null,
            "resolve_conflicts": null,
            "resolve_conflicts_on_create": null,
            "resolve_conflicts_on_update": null,
            "service_account_role_arn": "",
            "tags": {},
            "tags_all": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjI0MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.eks_cluster.aws_cloudwatch_log_group.eks_cluster",
            "module.eks_cluster.aws_eks_cluster.main",
            "module.eks_cluster.aws_iam_role.eks_cluster_role",
            "module.eks_cluster.aws_iam_role_policy_attachment.cluster-policy",
            "module.eks_cluster.aws_iam_role_policy_attachment.service_policy",
            "module.eks_cluster.aws_iam_role_policy_attachment.vpc_resource_controller",
            "module.eks_cluster.aws_security_group.eks_cluster",
            "module.eks_cluster.data.aws_iam_policy_document.eks_cluster_role_assume",
            "module.eks_cluster.data.aws_partition.spoke",
            "module.eks_cluster.data.aws_region.spoke",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.module.envelope_encryption_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.envelope_encryption_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.random_string.postfix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_eks_addon",
      "name": "ebs-csi",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "addon_name": "aws-ebs-csi-driver",
            "addon_version": "v1.23.0-eksbuild.1",
            "arn": "arn:aws:eks:us-east-1:371198079589:addon/vtbxmck-bootcamp/aws-ebs-csi-driver/2cc56ae1-63c1-6e95-bacf-05098f17fec2",
            "cluster_name": "vtbxmck-bootcamp",
            "configuration_values": "",
            "created_at": "2023-09-27T08:30:26Z",
            "id": "vtbxmck-bootcamp:aws-ebs-csi-driver",
            "modified_at": "2023-09-27T08:31:13Z",
            "preserve": null,
            "resolve_conflicts": null,
            "resolve_conflicts_on_create": null,
            "resolve_conflicts_on_update": null,
            "service_account_role_arn": "",
            "tags": {},
            "tags_all": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjI0MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.eks_cluster.aws_cloudwatch_log_group.eks_cluster",
            "module.eks_cluster.aws_eks_cluster.main",
            "module.eks_cluster.aws_iam_role.eks_cluster_role",
            "module.eks_cluster.aws_iam_role_policy_attachment.cluster-policy",
            "module.eks_cluster.aws_iam_role_policy_attachment.service_policy",
            "module.eks_cluster.aws_iam_role_policy_attachment.vpc_resource_controller",
            "module.eks_cluster.aws_security_group.eks_cluster",
            "module.eks_cluster.data.aws_iam_policy_document.eks_cluster_role_assume",
            "module.eks_cluster.data.aws_partition.spoke",
            "module.eks_cluster.data.aws_region.spoke",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.module.envelope_encryption_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.envelope_encryption_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.random_string.postfix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_eks_addon",
      "name": "kube-proxy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "addon_name": "kube-proxy",
            "addon_version": "v1.27.1-eksbuild.1",
            "arn": "arn:aws:eks:us-east-1:371198079589:addon/vtbxmck-bootcamp/kube-proxy/e2c56ac8-baea-ec9b-1e4d-f02a0c726e9d",
            "cluster_name": "vtbxmck-bootcamp",
            "configuration_values": "",
            "created_at": "2023-09-27T07:36:34Z",
            "id": "vtbxmck-bootcamp:kube-proxy",
            "modified_at": "2023-09-27T07:36:38Z",
            "preserve": null,
            "resolve_conflicts": null,
            "resolve_conflicts_on_create": null,
            "resolve_conflicts_on_update": null,
            "service_account_role_arn": "",
            "tags": {},
            "tags_all": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjI0MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.eks_cluster.aws_cloudwatch_log_group.eks_cluster",
            "module.eks_cluster.aws_eks_cluster.main",
            "module.eks_cluster.aws_iam_role.eks_cluster_role",
            "module.eks_cluster.aws_iam_role_policy_attachment.cluster-policy",
            "module.eks_cluster.aws_iam_role_policy_attachment.service_policy",
            "module.eks_cluster.aws_iam_role_policy_attachment.vpc_resource_controller",
            "module.eks_cluster.aws_security_group.eks_cluster",
            "module.eks_cluster.data.aws_iam_policy_document.eks_cluster_role_assume",
            "module.eks_cluster.data.aws_partition.spoke",
            "module.eks_cluster.data.aws_region.spoke",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.module.envelope_encryption_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.envelope_encryption_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.random_string.postfix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_eks_addon",
      "name": "vpc-cni",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "addon_name": "vpc-cni",
            "addon_version": "v1.12.6-eksbuild.2",
            "arn": "arn:aws:eks:us-east-1:371198079589:addon/vtbxmck-bootcamp/vpc-cni/4ec56ac8-bae4-a783-e08e-6e27833cfcae",
            "cluster_name": "vtbxmck-bootcamp",
            "configuration_values": "",
            "created_at": "2023-09-27T07:36:34Z",
            "id": "vtbxmck-bootcamp:vpc-cni",
            "modified_at": "2023-09-27T07:37:08Z",
            "preserve": null,
            "resolve_conflicts": null,
            "resolve_conflicts_on_create": null,
            "resolve_conflicts_on_update": null,
            "service_account_role_arn": "",
            "tags": {},
            "tags_all": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjI0MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.eks_cluster.aws_cloudwatch_log_group.eks_cluster",
            "module.eks_cluster.aws_eks_cluster.main",
            "module.eks_cluster.aws_iam_role.eks_cluster_role",
            "module.eks_cluster.aws_iam_role_policy_attachment.cluster-policy",
            "module.eks_cluster.aws_iam_role_policy_attachment.service_policy",
            "module.eks_cluster.aws_iam_role_policy_attachment.vpc_resource_controller",
            "module.eks_cluster.aws_security_group.eks_cluster",
            "module.eks_cluster.data.aws_iam_policy_document.eks_cluster_role_assume",
            "module.eks_cluster.data.aws_partition.spoke",
            "module.eks_cluster.data.aws_region.spoke",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.module.envelope_encryption_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.envelope_encryption_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.random_string.postfix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "codebuild_api",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::371198079589:role/codebuild-api",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"codebuild.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2023-09-25T13:56:28Z",
            "description": "",
            "force_detach_policies": false,
            "id": "codebuild-api",
            "inline_policy": [
              {
                "name": "terraform-20230925135629895500000001",
                "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:PutLogEvents\",\"logs:CreateLogStream\",\"logs:CreateLogGroup\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeSubnets\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeNetworkInterfaces\",\"ec2:DescribeDhcpOptions\",\"ec2:DeleteNetworkInterface\",\"ec2:CreateNetworkInterface\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"ec2:CreateNetworkInterfacePermission\",\"Condition\":{\"StringEquals\":{\"ec2:AuthorizedService\":\"codebuild.amazonaws.com\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"s3:*\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::codebuild-log-vtb-bootcamp/*\",\"arn:aws:s3:::codebuild-log-vtb-bootcamp\"]}]}"
              }
            ],
            "managed_policy_arns": [
              "arn:aws:iam::371198079589:policy/service-role/CodeBuildBasePolicy-api-bootcamp-us-east-1",
              "arn:aws:iam::371198079589:policy/service-role/CodeBuildCachePolicy-api-bootcamp-us-east-1",
              "arn:aws:iam::371198079589:policy/service-role/CodeBuildVpcPolicy-api-bootcamp-us-east-1",
              "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryPowerUser"
            ],
            "max_session_duration": 3600,
            "name": "codebuild-api",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "tags": {},
            "tags_all": {},
            "unique_id": "AROAVM3JBGJS5FJIIIJXI"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_iam_policy_document.assume_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "codebuild_ui",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::371198079589:role/codebuild-ui",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"codebuild.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2023-09-25T14:03:40Z",
            "description": "",
            "force_detach_policies": false,
            "id": "codebuild-ui",
            "inline_policy": [
              {
                "name": "terraform-20230925140341003600000001",
                "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:PutLogEvents\",\"logs:CreateLogStream\",\"logs:CreateLogGroup\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeSubnets\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeNetworkInterfaces\",\"ec2:DescribeDhcpOptions\",\"ec2:DeleteNetworkInterface\",\"ec2:CreateNetworkInterface\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"ec2:CreateNetworkInterfacePermission\",\"Condition\":{\"StringEquals\":{\"ec2:AuthorizedService\":\"codebuild.amazonaws.com\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"s3:*\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::codebuild-log-vtb-bootcamp/*\",\"arn:aws:s3:::codebuild-log-vtb-bootcamp\"]}]}"
              }
            ],
            "managed_policy_arns": [
              "arn:aws:iam::371198079589:policy/service-role/CodeBuildBasePolicy-ui-bootcamp-us-east-1"
            ],
            "max_session_duration": 3600,
            "name": "codebuild-ui",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "tags": {},
            "tags_all": {},
            "unique_id": "AROAVM3JBGJS7K5K53VJW"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_iam_policy_document.assume_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "codepipeline_role_api",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::371198079589:role/codepipeline_role_api",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"codepipeline.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2023-09-25T15:05:27Z",
            "description": "",
            "force_detach_policies": false,
            "id": "codepipeline_role_api",
            "inline_policy": [
              {
                "name": "codepipeline_policy_api",
                "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"s3:PutObjectAcl\",\"s3:PutObject\",\"s3:GetObjectVersion\",\"s3:GetObject\",\"s3:GetBucketVersioning\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::pipeline-vtbxmck-api/*\",\"arn:aws:s3:::pipeline-vtbxmck-api\"]},{\"Action\":[\"codecommit:UploadArchive\",\"codecommit:GetUploadArchiveStatus\",\"codecommit:GetCommit\",\"codecommit:GetBranch\",\"codecommit:CancelUploadArchive\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"codecommitaccess\"},{\"Action\":[\"codebuild:StartBuild\",\"codebuild:BatchGetBuilds\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"
              }
            ],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "codepipeline_role_api",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "tags": {},
            "tags_all": {},
            "unique_id": "AROAVM3JBGJSQB2ITCPL3"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_iam_policy_document.assume_role_pipeline"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "codepipeline_role_ui",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::371198079589:role/codepipeline_role_ui",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"codepipeline.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2023-09-25T15:05:27Z",
            "description": "",
            "force_detach_policies": false,
            "id": "codepipeline_role_ui",
            "inline_policy": [
              {
                "name": "codepipeline_policy_ui",
                "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"s3:PutObjectAcl\",\"s3:PutObject\",\"s3:GetObjectVersion\",\"s3:GetObject\",\"s3:GetBucketVersioning\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::pipeline-vtbxmck-ui/*\",\"arn:aws:s3:::pipeline-vtbxmck-ui\"]},{\"Action\":[\"codecommit:UploadArchive\",\"codecommit:GetUploadArchiveStatus\",\"codecommit:GetCommit\",\"codecommit:GetBranch\",\"codecommit:CancelUploadArchive\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"codecommitaccess\"},{\"Action\":[\"codebuild:StartBuild\",\"codebuild:BatchGetBuilds\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"
              }
            ],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "codepipeline_role_ui",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "tags": {},
            "tags_all": {},
            "unique_id": "AROAVM3JBGJS7GRIFZUAE"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_iam_policy_document.assume_role_pipeline"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "codebuild_api",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "codebuild-api:terraform-20230925135629895500000001",
            "name": "terraform-20230925135629895500000001",
            "name_prefix": null,
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:PutLogEvents\",\"logs:CreateLogStream\",\"logs:CreateLogGroup\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeSubnets\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeNetworkInterfaces\",\"ec2:DescribeDhcpOptions\",\"ec2:DeleteNetworkInterface\",\"ec2:CreateNetworkInterface\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"ec2:CreateNetworkInterfacePermission\",\"Condition\":{\"StringEquals\":{\"ec2:AuthorizedService\":\"codebuild.amazonaws.com\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"s3:*\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::codebuild-log-vtb-bootcamp/*\",\"arn:aws:s3:::codebuild-log-vtb-bootcamp\"]}]}",
            "role": "codebuild-api"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.codebuild_api",
            "aws_s3_bucket.bootcamp-codebuild",
            "data.aws_iam_policy_document.assume_role",
            "data.aws_iam_policy_document.codebuild_api"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "codebuild_ui",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "codebuild-ui:terraform-20230925140341003600000001",
            "name": "terraform-20230925140341003600000001",
            "name_prefix": null,
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:PutLogEvents\",\"logs:CreateLogStream\",\"logs:CreateLogGroup\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"ec2:DescribeVpcs\",\"ec2:DescribeSubnets\",\"ec2:DescribeSecurityGroups\",\"ec2:DescribeNetworkInterfaces\",\"ec2:DescribeDhcpOptions\",\"ec2:DeleteNetworkInterface\",\"ec2:CreateNetworkInterface\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"ec2:CreateNetworkInterfacePermission\",\"Condition\":{\"StringEquals\":{\"ec2:AuthorizedService\":\"codebuild.amazonaws.com\"}},\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":\"s3:*\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::codebuild-log-vtb-bootcamp/*\",\"arn:aws:s3:::codebuild-log-vtb-bootcamp\"]}]}",
            "role": "codebuild-ui"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.codebuild_ui",
            "aws_s3_bucket.bootcamp-codebuild",
            "data.aws_iam_policy_document.assume_role",
            "data.aws_iam_policy_document.codebuild_ui"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "codepipeline_policy_api",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "codepipeline_role_api:codepipeline_policy_api",
            "name": "codepipeline_policy_api",
            "name_prefix": null,
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"s3:PutObjectAcl\",\"s3:PutObject\",\"s3:GetObjectVersion\",\"s3:GetObject\",\"s3:GetBucketVersioning\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::pipeline-vtbxmck-api/*\",\"arn:aws:s3:::pipeline-vtbxmck-api\"]},{\"Action\":[\"codecommit:UploadArchive\",\"codecommit:GetUploadArchiveStatus\",\"codecommit:GetCommit\",\"codecommit:GetBranch\",\"codecommit:CancelUploadArchive\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"codecommitaccess\"},{\"Action\":[\"codebuild:StartBuild\",\"codebuild:BatchGetBuilds\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}",
            "role": "codepipeline_role_api"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.codepipeline_role_api",
            "aws_s3_bucket.codepipeline_bucket_api",
            "data.aws_iam_policy_document.assume_role_pipeline",
            "data.aws_iam_policy_document.codepipeline_policy_api"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "codepipeline_policy_ui",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "codepipeline_role_ui:codepipeline_policy_ui",
            "name": "codepipeline_policy_ui",
            "name_prefix": null,
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"s3:PutObjectAcl\",\"s3:PutObject\",\"s3:GetObjectVersion\",\"s3:GetObject\",\"s3:GetBucketVersioning\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::pipeline-vtbxmck-ui/*\",\"arn:aws:s3:::pipeline-vtbxmck-ui\"]},{\"Action\":[\"codecommit:UploadArchive\",\"codecommit:GetUploadArchiveStatus\",\"codecommit:GetCommit\",\"codecommit:GetBranch\",\"codecommit:CancelUploadArchive\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"codecommitaccess\"},{\"Action\":[\"codebuild:StartBuild\",\"codebuild:BatchGetBuilds\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}",
            "role": "codepipeline_role_ui"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.codepipeline_role_ui",
            "aws_s3_bucket.codepipeline_bucket_ui",
            "data.aws_iam_policy_document.assume_role_pipeline",
            "data.aws_iam_policy_document.codepipeline_policy_ui"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "EC2ContainerEks",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "codebuild-api-20230927130926615300000001",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryPowerUser",
            "role": "codebuild-api"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.codebuild_api",
            "data.aws_iam_policy.EC2Container",
            "data.aws_iam_policy_document.assume_role"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_kms_key",
      "name": "codepipeline",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:us-east-1:371198079589:key/69552007-0e80-4821-99ac-17585bc0f5cc",
            "bypass_policy_lockout_safety_check": false,
            "custom_key_store_id": "",
            "customer_master_key_spec": "SYMMETRIC_DEFAULT",
            "deletion_window_in_days": 10,
            "description": "KMS key 1",
            "enable_key_rotation": false,
            "id": "69552007-0e80-4821-99ac-17585bc0f5cc",
            "is_enabled": true,
            "key_id": "69552007-0e80-4821-99ac-17585bc0f5cc",
            "key_usage": "ENCRYPT_DECRYPT",
            "multi_region": false,
            "policy": "{\"Id\":\"key-default-1\",\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::371198079589:root\"},\"Resource\":\"*\",\"Sid\":\"Enable IAM User Permissions\"}],\"Version\":\"2012-10-17\"}",
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "bootcamp-codebuild",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": null,
            "arn": "arn:aws:s3:::codebuild-log-vtb-bootcamp",
            "bucket": "codebuild-log-vtb-bootcamp",
            "bucket_domain_name": "codebuild-log-vtb-bootcamp.s3.amazonaws.com",
            "bucket_prefix": "",
            "bucket_regional_domain_name": "codebuild-log-vtb-bootcamp.s3.us-east-1.amazonaws.com",
            "cors_rule": [],
            "force_destroy": false,
            "grant": [
              {
                "id": "1d278a9668d05aa32f574cdfa40136546e6e2518b956c662ef099dd38f59eb75",
                "permissions": [
                  "FULL_CONTROL"
                ],
                "type": "CanonicalUser",
                "uri": ""
              }
            ],
            "hosted_zone_id": "Z3AQBSTGFYJSTF",
            "id": "codebuild-log-vtb-bootcamp",
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "object_lock_enabled": false,
            "policy": "",
            "region": "us-east-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ],
                    "bucket_key_enabled": false
                  }
                ]
              }
            ],
            "tags": {},
            "tags_all": {},
            "timeouts": null,
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "bootcamp-codebuild--ui",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": null,
            "arn": "arn:aws:s3:::codebuild-log-vtb-bootcamp-ui",
            "bucket": "codebuild-log-vtb-bootcamp-ui",
            "bucket_domain_name": "codebuild-log-vtb-bootcamp-ui.s3.amazonaws.com",
            "bucket_prefix": "",
            "bucket_regional_domain_name": "codebuild-log-vtb-bootcamp-ui.s3.us-east-1.amazonaws.com",
            "cors_rule": [],
            "force_destroy": false,
            "grant": [
              {
                "id": "1d278a9668d05aa32f574cdfa40136546e6e2518b956c662ef099dd38f59eb75",
                "permissions": [
                  "FULL_CONTROL"
                ],
                "type": "CanonicalUser",
                "uri": ""
              }
            ],
            "hosted_zone_id": "Z3AQBSTGFYJSTF",
            "id": "codebuild-log-vtb-bootcamp-ui",
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "object_lock_enabled": false,
            "policy": "",
            "region": "us-east-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ],
                    "bucket_key_enabled": false
                  }
                ]
              }
            ],
            "tags": {},
            "tags_all": {},
            "timeouts": null,
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "codepipeline_bucket_api",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": null,
            "arn": "arn:aws:s3:::pipeline-vtbxmck-api",
            "bucket": "pipeline-vtbxmck-api",
            "bucket_domain_name": "pipeline-vtbxmck-api.s3.amazonaws.com",
            "bucket_prefix": "",
            "bucket_regional_domain_name": "pipeline-vtbxmck-api.s3.us-east-1.amazonaws.com",
            "cors_rule": [],
            "force_destroy": false,
            "grant": [
              {
                "id": "1d278a9668d05aa32f574cdfa40136546e6e2518b956c662ef099dd38f59eb75",
                "permissions": [
                  "FULL_CONTROL"
                ],
                "type": "CanonicalUser",
                "uri": ""
              }
            ],
            "hosted_zone_id": "Z3AQBSTGFYJSTF",
            "id": "pipeline-vtbxmck-api",
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "object_lock_enabled": false,
            "policy": "",
            "region": "us-east-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ],
                    "bucket_key_enabled": false
                  }
                ]
              }
            ],
            "tags": {},
            "tags_all": {},
            "timeouts": null,
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "codepipeline_bucket_ui",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": null,
            "arn": "arn:aws:s3:::pipeline-vtbxmck-ui",
            "bucket": "pipeline-vtbxmck-ui",
            "bucket_domain_name": "pipeline-vtbxmck-ui.s3.amazonaws.com",
            "bucket_prefix": "",
            "bucket_regional_domain_name": "pipeline-vtbxmck-ui.s3.us-east-1.amazonaws.com",
            "cors_rule": [],
            "force_destroy": false,
            "grant": [
              {
                "id": "1d278a9668d05aa32f574cdfa40136546e6e2518b956c662ef099dd38f59eb75",
                "permissions": [
                  "FULL_CONTROL"
                ],
                "type": "CanonicalUser",
                "uri": ""
              }
            ],
            "hosted_zone_id": "Z3AQBSTGFYJSTF",
            "id": "pipeline-vtbxmck-ui",
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "object_lock_enabled": false,
            "policy": "",
            "region": "us-east-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ],
                    "bucket_key_enabled": false
                  }
                ]
              }
            ],
            "tags": {},
            "tags_all": {},
            "timeouts": null,
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "eks",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": null,
            "arn": "arn:aws:s3:::vtbxmck-bootcamp-eks-api",
            "bucket": "vtbxmck-bootcamp-eks-api",
            "bucket_domain_name": "vtbxmck-bootcamp-eks-api.s3.amazonaws.com",
            "bucket_prefix": "",
            "bucket_regional_domain_name": "vtbxmck-bootcamp-eks-api.s3.us-east-1.amazonaws.com",
            "cors_rule": [],
            "force_destroy": false,
            "grant": [
              {
                "id": "1d278a9668d05aa32f574cdfa40136546e6e2518b956c662ef099dd38f59eb75",
                "permissions": [
                  "FULL_CONTROL"
                ],
                "type": "CanonicalUser",
                "uri": ""
              }
            ],
            "hosted_zone_id": "Z3AQBSTGFYJSTF",
            "id": "vtbxmck-bootcamp-eks-api",
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "object_lock_enabled": false,
            "policy": "",
            "region": "us-east-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ],
                    "bucket_key_enabled": false
                  }
                ]
              }
            ],
            "tags": {},
            "tags_all": {},
            "timeouts": null,
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "example",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": null,
            "arn": "arn:aws:s3:::vtbxmck-bootcamp-ui",
            "bucket": "vtbxmck-bootcamp-ui",
            "bucket_domain_name": "vtbxmck-bootcamp-ui.s3.amazonaws.com",
            "bucket_prefix": "",
            "bucket_regional_domain_name": "vtbxmck-bootcamp-ui.s3.us-east-1.amazonaws.com",
            "cors_rule": [],
            "force_destroy": false,
            "grant": [
              {
                "id": "",
                "permissions": [
                  "READ"
                ],
                "type": "Group",
                "uri": "http://acs.amazonaws.com/groups/global/AllUsers"
              },
              {
                "id": "1d278a9668d05aa32f574cdfa40136546e6e2518b956c662ef099dd38f59eb75",
                "permissions": [
                  "FULL_CONTROL"
                ],
                "type": "CanonicalUser",
                "uri": ""
              }
            ],
            "hosted_zone_id": "Z3AQBSTGFYJSTF",
            "id": "vtbxmck-bootcamp-ui",
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "object_lock_enabled": false,
            "policy": "{\"Id\":\"Policy\",\"Statement\":[{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:s3:::vtbxmck-bootcamp-ui/*\"},{\"Action\":\"*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::371198079589:role/codebuild-ui\"},\"Resource\":\"arn:aws:s3:::vtbxmck-bootcamp-ui/*\",\"Sid\":\"Stmt1597860486271\"}],\"Version\":\"2008-10-17\"}",
            "region": "us-east-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ],
                    "bucket_key_enabled": false
                  }
                ]
              }
            ],
            "tags": {},
            "tags_all": {},
            "timeouts": null,
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [
              {
                "error_document": "index.html",
                "index_document": "index.html",
                "redirect_all_requests_to": "",
                "routing_rules": ""
              }
            ],
            "website_domain": "s3-website-us-east-1.amazonaws.com",
            "website_endpoint": "vtbxmck-bootcamp-ui.s3-website-us-east-1.amazonaws.com"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket_acl",
      "name": "example",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_control_policy": [
              {
                "grant": [
                  {
                    "grantee": [
                      {
                        "display_name": "",
                        "email_address": "",
                        "id": "",
                        "type": "Group",
                        "uri": "http://acs.amazonaws.com/groups/global/AllUsers"
                      }
                    ],
                    "permission": "READ"
                  },
                  {
                    "grantee": [
                      {
                        "display_name": "sandbox_platform-acc-01haxa7x891z9",
                        "email_address": "",
                        "id": "1d278a9668d05aa32f574cdfa40136546e6e2518b956c662ef099dd38f59eb75",
                        "type": "CanonicalUser",
                        "uri": ""
                      }
                    ],
                    "permission": "FULL_CONTROL"
                  }
                ],
                "owner": [
                  {
                    "display_name": "sandbox_platform-acc-01haxa7x891z9",
                    "id": "1d278a9668d05aa32f574cdfa40136546e6e2518b956c662ef099dd38f59eb75"
                  }
                ]
              }
            ],
            "acl": "public-read",
            "bucket": "vtbxmck-bootcamp-ui",
            "expected_bucket_owner": "",
            "id": "vtbxmck-bootcamp-ui,public-read"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.example",
            "aws_s3_bucket_ownership_controls.example",
            "aws_s3_bucket_public_access_block.example"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket_ownership_controls",
      "name": "example",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "vtbxmck-bootcamp-ui",
            "id": "vtbxmck-bootcamp-ui",
            "rule": [
              {
                "object_ownership": "BucketOwnerPreferred"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.example"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket_policy",
      "name": "bucket-policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "vtbxmck-bootcamp-ui",
            "id": "vtbxmck-bootcamp-ui",
            "policy": "{\"Id\":\"Policy\",\"Statement\":[{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:s3:::vtbxmck-bootcamp-ui/*\"},{\"Action\":\"*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::371198079589:role/codebuild-ui\"},\"Resource\":\"arn:aws:s3:::vtbxmck-bootcamp-ui/*\",\"Sid\":\"Stmt1597860486271\"}],\"Version\":\"2008-10-17\"}"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.codebuild_ui",
            "aws_s3_bucket.example"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket_public_access_block",
      "name": "example",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "block_public_acls": false,
            "block_public_policy": false,
            "bucket": "vtbxmck-bootcamp-ui",
            "id": "vtbxmck-bootcamp-ui",
            "ignore_public_acls": false,
            "restrict_public_buckets": false
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.example"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket_website_configuration",
      "name": "example",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "vtbxmck-bootcamp-ui",
            "error_document": [
              {
                "key": "index.html"
              }
            ],
            "expected_bucket_owner": "",
            "id": "vtbxmck-bootcamp-ui",
            "index_document": [
              {
                "suffix": "index.html"
              }
            ],
            "redirect_all_requests_to": [],
            "routing_rule": [],
            "routing_rules": "",
            "website_domain": "s3-website-us-east-1.amazonaws.com",
            "website_endpoint": "vtbxmck-bootcamp-ui.s3-website-us-east-1.amazonaws.com"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.example"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "spoke",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "371198079589",
            "arn": "arn:aws:sts::371198079589:assumed-role/user-access/Thai_Nguyen@mckinsey.com",
            "id": "371198079589",
            "user_id": "AROAVM3JBGJSWZBKKI3BZ:Thai_Nguyen@mckinsey.com"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "cloudwatch",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "343271578",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowPutCloudwatchMetrics\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"cloudwatch:PutMetricData\",\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "override_policy_documents": null,
            "policy_id": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "cloudwatch:PutMetricData"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": "AllowPutCloudwatchMetrics"
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "cluster_elb_sl_role_creation",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2829572932",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:DescribeInternetGateways\",\n        \"ec2:DescribeAddresses\",\n        \"ec2:DescribeAccountAttributes\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "override_policy_documents": null,
            "policy_id": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "ec2:DescribeAccountAttributes",
                  "ec2:DescribeAddresses",
                  "ec2:DescribeInternetGateways"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "eks_cluster_role_assume",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "3552664922",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"eks.amazonaws.com\"\n      }\n    }\n  ]\n}",
            "override_policy_documents": null,
            "policy_id": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "eks.amazonaws.com"
                    ],
                    "type": "Service"
                  }
                ],
                "resources": [],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "nlb_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "719606508",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowNLB\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"elasticloadbalancing:*\",\n        \"ec2:Describe*\",\n        \"ec2:CreateSecurityGroup\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "override_policy_documents": null,
            "policy_id": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "ec2:CreateSecurityGroup",
                  "ec2:Describe*",
                  "elasticloadbalancing:*"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": "AllowNLB"
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "data",
      "type": "aws_partition",
      "name": "spoke",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "dns_suffix": "amazonaws.com",
            "id": "aws",
            "partition": "aws",
            "reverse_dns_prefix": "com.amazonaws"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "data",
      "type": "aws_region",
      "name": "spoke",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "US East (N. Virginia)",
            "endpoint": "ec2.us-east-1.amazonaws.com",
            "id": "us-east-1",
            "name": "us-east-1"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "eks_cluster",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-east-1:371198079589:log-group:/aws/eks/vtbxmck-bootcamp/cluster",
            "id": "/aws/eks/vtbxmck-bootcamp/cluster",
            "kms_key_id": "arn:aws:kms:us-east-1:371198079589:key/f5333219-b142-44bb-9f02-07d0407735a5",
            "name": "/aws/eks/vtbxmck-bootcamp/cluster",
            "name_prefix": "",
            "retention_in_days": 90,
            "skip_destroy": false,
            "tags": {
              "Name": "vtbxmck-bootcamp-eks-cloudwatch-log-group"
            },
            "tags_all": {
              "Name": "vtbxmck-bootcamp-eks-cloudwatch-log-group"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.data.aws_region.spoke",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.random_string.postfix"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_ec2_tag",
      "name": "private_subnet_cluster_tag",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "subnet-0368ee10ab9aa48f5",
          "schema_version": 0,
          "attributes": {
            "id": "subnet-0368ee10ab9aa48f5,kubernetes.io/cluster/vtbxmck-bootcamp",
            "key": "kubernetes.io/cluster/vtbxmck-bootcamp",
            "resource_id": "subnet-0368ee10ab9aa48f5",
            "value": "shared"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        },
        {
          "index_key": "subnet-04519d94985a172cc",
          "schema_version": 0,
          "attributes": {
            "id": "subnet-04519d94985a172cc,kubernetes.io/cluster/vtbxmck-bootcamp",
            "key": "kubernetes.io/cluster/vtbxmck-bootcamp",
            "resource_id": "subnet-04519d94985a172cc",
            "value": "shared"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_ec2_tag",
      "name": "private_subnet_tag",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "subnet-0368ee10ab9aa48f5",
          "schema_version": 0,
          "attributes": {
            "id": "subnet-0368ee10ab9aa48f5,kubernetes.io/role/internal-elb",
            "key": "kubernetes.io/role/internal-elb",
            "resource_id": "subnet-0368ee10ab9aa48f5",
            "value": "1"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        },
        {
          "index_key": "subnet-04519d94985a172cc",
          "schema_version": 0,
          "attributes": {
            "id": "subnet-04519d94985a172cc,kubernetes.io/role/internal-elb",
            "key": "kubernetes.io/role/internal-elb",
            "resource_id": "subnet-04519d94985a172cc",
            "value": "1"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_ec2_tag",
      "name": "public_subnet_cluster_tag",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "subnet-01fda852bbec5aed5",
          "schema_version": 0,
          "attributes": {
            "id": "subnet-01fda852bbec5aed5,kubernetes.io/cluster/vtbxmck-bootcamp",
            "key": "kubernetes.io/cluster/vtbxmck-bootcamp",
            "resource_id": "subnet-01fda852bbec5aed5",
            "value": "shared"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        },
        {
          "index_key": "subnet-0933ed5932e1155d7",
          "schema_version": 0,
          "attributes": {
            "id": "subnet-0933ed5932e1155d7,kubernetes.io/cluster/vtbxmck-bootcamp",
            "key": "kubernetes.io/cluster/vtbxmck-bootcamp",
            "resource_id": "subnet-0933ed5932e1155d7",
            "value": "shared"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_ec2_tag",
      "name": "public_subnet_tag",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "subnet-01fda852bbec5aed5",
          "schema_version": 0,
          "attributes": {
            "id": "subnet-01fda852bbec5aed5,kubernetes.io/role/elb",
            "key": "kubernetes.io/role/elb",
            "resource_id": "subnet-01fda852bbec5aed5",
            "value": "1"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        },
        {
          "index_key": "subnet-0933ed5932e1155d7",
          "schema_version": 0,
          "attributes": {
            "id": "subnet-0933ed5932e1155d7,kubernetes.io/role/elb",
            "key": "kubernetes.io/role/elb",
            "resource_id": "subnet-0933ed5932e1155d7",
            "value": "1"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_ec2_tag",
      "name": "vpc_tag",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "vpc-0142ed266c5de6da2,kubernetes.io/cluster/vtbxmck-bootcamp",
            "key": "kubernetes.io/cluster/vtbxmck-bootcamp",
            "resource_id": "vpc-0142ed266c5de6da2",
            "value": "shared"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_eks_cluster",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:eks:us-east-1:371198079589:cluster/vtbxmck-bootcamp",
            "certificate_authority": [
              {
                "data": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCVENDQWUyZ0F3SUJBZ0lJSWE0SEUwNG5kUDh3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TXpBNU1qWXhOVFE1TlRKYUZ3MHpNekE1TWpNeE5UUTVOVEphTUJVeApFekFSQmdOVkJBTVRDbXQxWW1WeWJtVjBaWE13Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLCkFvSUJBUUQwOElXUU5BTDl1aUNBbURBRkJKOGhFaW00R0xOQVF2Y2IwRGp4YzFIMmwrU2VqSFV1UjRsNXRUNXAKSUZZb0VCTmpwT0NIUHRFSks3NGRVUUNaN28xNkF2SDBOV0x0TnJwcE1qUHRkSkw4MXNpUEdHdGFoeTRvK1RzUwpzYnV6NFA1endlcGk5ckRiVGFQaEdMc1pPWWR6ejlXMW9JVjF0K3UrWE1GdVNrYzVHOXhKVW90clhwZ1NSU2NvCnkzNmJvc1FibDIwd3NtSHBGUWtaR2RHVnNadlI1QlBMN003MkhEMXVONE5CZXdzS08wOUFONjIxYkx1YzRGOFoKNTJSdm1wcVhQNk4wdG4yM2JKVWhSS0ZOb2w3aVhwbmdNUlB6UEFhYkR0SFc5V2pRbkM4VWMvTGtDS204S042bwpocDJZdllSTktJeUlFd0V6U0g3YjZyZ1I0amR4QWdNQkFBR2pXVEJYTUE0R0ExVWREd0VCL3dRRUF3SUNwREFQCkJnTlZIUk1CQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJTQURobEZFVU1SbFlZY3ZtYVdxMWpMNlA2R3REQVYKQmdOVkhSRUVEakFNZ2dwcmRXSmxjbTVsZEdWek1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQUdLczhmT3I5TAp0ZTZJODIyVk1jckZSTnBwcG42SlhrQnhic2c2YjdQL3k0TWR2ZjY4N2NmSVdraUlMYkx5ZnVvMSs0RmYyVS9xCmtPcXNyd3djOUt2bFZHVVNrWWdJbXR6Y2xNclVzb2t2aEt0Z1N2ZDF3L0VWQ2JEaGNxU3haazNMVmhpTjMwTXQKVUdVY0FuQmltK2o1RzZxSEl4RmtUL251Zm5UejBHZHE3VXh3NUZlcW1vNzVQbDRMM2pvM3pXZEg2YnptVW96LwpMS2RIbnJTR2hhV1BJUm5vaGhvMW1TQ1hZMmhzL2MrREhWdUZHME9qOVRBdXVaS1BGb1E3cWZSK1RyajlUVHY0CmVjZDZkTnZMMlVDSU56dzkwaHZUb3c1UVl6Z1EyQ0RzcWdCVUIrWUpiNjMyOC90U25tWHJyaDdNc25Ca1A0dDEKZlFjZGcxVE1yUXZBCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
              }
            ],
            "cluster_id": null,
            "created_at": "2023-09-26 15:44:54.407 +0000 UTC",
            "enabled_cluster_log_types": [
              "api",
              "audit",
              "authenticator",
              "controllerManager",
              "scheduler"
            ],
            "encryption_config": [
              {
                "provider": [
                  {
                    "key_arn": "arn:aws:kms:us-east-1:371198079589:key/4ea34ae8-32a2-4783-8fd0-7490baeb5553"
                  }
                ],
                "resources": [
                  "secrets"
                ]
              }
            ],
            "endpoint": "https://5DA0BE6CFCE83197836EDBAFE237B943.gr7.us-east-1.eks.amazonaws.com",
            "id": "vtbxmck-bootcamp",
            "identity": [
              {
                "oidc": [
                  {
                    "issuer": "https://oidc.eks.us-east-1.amazonaws.com/id/5DA0BE6CFCE83197836EDBAFE237B943"
                  }
                ]
              }
            ],
            "kubernetes_network_config": [
              {
                "ip_family": "ipv4",
                "service_ipv4_cidr": "172.20.0.0/16",
                "service_ipv6_cidr": ""
              }
            ],
            "name": "vtbxmck-bootcamp",
            "outpost_config": [],
            "platform_version": "eks.5",
            "role_arn": "arn:aws:iam::371198079589:role/vtbxmck-bootcamp-eks-cluster-role",
            "status": "ACTIVE",
            "tags": {
              "Name": "vtbxmck-bootcamp-eks-cluster-role"
            },
            "tags_all": {
              "Name": "vtbxmck-bootcamp-eks-cluster-role"
            },
            "timeouts": {
              "create": "30m",
              "delete": "15m",
              "update": null
            },
            "version": "1.27",
            "vpc_config": [
              {
                "cluster_security_group_id": "sg-0242341769f274d23",
                "endpoint_private_access": true,
                "endpoint_public_access": true,
                "public_access_cidrs": [
                  "0.0.0.0/0"
                ],
                "security_group_ids": [
                  "sg-0ed508d929eabba4d"
                ],
                "subnet_ids": [
                  "subnet-01fda852bbec5aed5",
                  "subnet-0368ee10ab9aa48f5",
                  "subnet-04519d94985a172cc",
                  "subnet-0933ed5932e1155d7"
                ],
                "vpc_id": "vpc-0142ed266c5de6da2"
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "module.eks_cluster.aws_cloudwatch_log_group.eks_cluster",
            "module.eks_cluster.aws_iam_role.eks_cluster_role",
            "module.eks_cluster.aws_iam_role_policy_attachment.cluster-policy",
            "module.eks_cluster.aws_iam_role_policy_attachment.service_policy",
            "module.eks_cluster.aws_iam_role_policy_attachment.vpc_resource_controller",
            "module.eks_cluster.aws_security_group.eks_cluster",
            "module.eks_cluster.data.aws_iam_policy_document.eks_cluster_role_assume",
            "module.eks_cluster.data.aws_partition.spoke",
            "module.eks_cluster.data.aws_region.spoke",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.module.envelope_encryption_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.envelope_encryption_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.random_string.postfix"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "cloudwatch_metrics",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::371198079589:policy/vtbxmck-bootcamp-AmazonEKSClusterCloudWatchMetricsPolicy",
            "description": "",
            "id": "arn:aws:iam::371198079589:policy/vtbxmck-bootcamp-AmazonEKSClusterCloudWatchMetricsPolicy",
            "name": "vtbxmck-bootcamp-AmazonEKSClusterCloudWatchMetricsPolicy",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":\"cloudwatch:PutMetricData\",\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"AllowPutCloudwatchMetrics\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAVM3JBGJS77NRDKTTR",
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.data.aws_iam_policy_document.cloudwatch"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "cluster_elb_sl_role_creation",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::371198079589:policy/vtbxmck-bootcamp-elb-sl-role-creation20230926154418341000000001",
            "description": "Permissions for EKS to create AWSServiceRoleForElasticLoadBalancing service-linked role",
            "id": "arn:aws:iam::371198079589:policy/vtbxmck-bootcamp-elb-sl-role-creation20230926154418341000000001",
            "name": "vtbxmck-bootcamp-elb-sl-role-creation20230926154418341000000001",
            "name_prefix": "vtbxmck-bootcamp-elb-sl-role-creation",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"ec2:DescribeInternetGateways\",\"ec2:DescribeAddresses\",\"ec2:DescribeAccountAttributes\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAVM3JBGJS66NFHH7VG",
            "tags": {
              "Name": "vtbxmck-bootcamp-elb-sl-role-creation"
            },
            "tags_all": {
              "Name": "vtbxmck-bootcamp-elb-sl-role-creation"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.data.aws_iam_policy_document.cluster_elb_sl_role_creation"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "cluster_nlb_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::371198079589:policy/vtbxmck-bootcamp-AmazonEKSClusterNLBPolicy",
            "description": "",
            "id": "arn:aws:iam::371198079589:policy/vtbxmck-bootcamp-AmazonEKSClusterNLBPolicy",
            "name": "vtbxmck-bootcamp-AmazonEKSClusterNLBPolicy",
            "name_prefix": "",
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"elasticloadbalancing:*\",\"ec2:Describe*\",\"ec2:CreateSecurityGroup\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"AllowNLB\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAVM3JBGJS3SSVANQZS",
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.data.aws_iam_policy_document.nlb_policy"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "eks_cluster_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::371198079589:role/vtbxmck-bootcamp-eks-cluster-role",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2023-09-26T15:44:19Z",
            "description": "",
            "force_detach_policies": false,
            "id": "vtbxmck-bootcamp-eks-cluster-role",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::371198079589:policy/vtbxmck-bootcamp-AmazonEKSClusterCloudWatchMetricsPolicy",
              "arn:aws:iam::371198079589:policy/vtbxmck-bootcamp-AmazonEKSClusterNLBPolicy",
              "arn:aws:iam::371198079589:policy/vtbxmck-bootcamp-elb-sl-role-creation20230926154418341000000001",
              "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy",
              "arn:aws:iam::aws:policy/AmazonEKSServicePolicy",
              "arn:aws:iam::aws:policy/AmazonEKSVPCResourceController"
            ],
            "max_session_duration": 3600,
            "name": "vtbxmck-bootcamp-eks-cluster-role",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "tags": {
              "Name": "vtbxmck-bootcamp-eks-cluster-role"
            },
            "tags_all": {
              "Name": "vtbxmck-bootcamp-eks-cluster-role"
            },
            "unique_id": "AROAVM3JBGJSVQ4WRBZY7"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.data.aws_iam_policy_document.eks_cluster_role_assume"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "cloudwatch_metrics",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "vtbxmck-bootcamp-eks-cluster-role-20230926154422207900000004",
            "policy_arn": "arn:aws:iam::371198079589:policy/vtbxmck-bootcamp-AmazonEKSClusterCloudWatchMetricsPolicy",
            "role": "vtbxmck-bootcamp-eks-cluster-role"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.aws_iam_policy.cloudwatch_metrics",
            "module.eks_cluster.aws_iam_role.eks_cluster_role",
            "module.eks_cluster.data.aws_iam_policy_document.cloudwatch",
            "module.eks_cluster.data.aws_iam_policy_document.eks_cluster_role_assume"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "cluster-policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "vtbxmck-bootcamp-eks-cluster-role-20230926154422258000000005",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy",
            "role": "vtbxmck-bootcamp-eks-cluster-role"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.aws_iam_role.eks_cluster_role",
            "module.eks_cluster.data.aws_iam_policy_document.eks_cluster_role_assume",
            "module.eks_cluster.data.aws_partition.spoke"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "cluster_elb_sl_role_creation",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "vtbxmck-bootcamp-eks-cluster-role-20230926154422889000000007",
            "policy_arn": "arn:aws:iam::371198079589:policy/vtbxmck-bootcamp-elb-sl-role-creation20230926154418341000000001",
            "role": "vtbxmck-bootcamp-eks-cluster-role"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.aws_iam_policy.cluster_elb_sl_role_creation",
            "module.eks_cluster.aws_iam_role.eks_cluster_role",
            "module.eks_cluster.data.aws_iam_policy_document.cluster_elb_sl_role_creation",
            "module.eks_cluster.data.aws_iam_policy_document.eks_cluster_role_assume"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "nlb_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "vtbxmck-bootcamp-eks-cluster-role-20230926154422937900000008",
            "policy_arn": "arn:aws:iam::371198079589:policy/vtbxmck-bootcamp-AmazonEKSClusterNLBPolicy",
            "role": "vtbxmck-bootcamp-eks-cluster-role"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.aws_iam_policy.cluster_nlb_policy",
            "module.eks_cluster.aws_iam_role.eks_cluster_role",
            "module.eks_cluster.data.aws_iam_policy_document.eks_cluster_role_assume",
            "module.eks_cluster.data.aws_iam_policy_document.nlb_policy"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "service_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "vtbxmck-bootcamp-eks-cluster-role-20230926154422058000000003",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSServicePolicy",
            "role": "vtbxmck-bootcamp-eks-cluster-role"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.aws_iam_role.eks_cluster_role",
            "module.eks_cluster.data.aws_iam_policy_document.eks_cluster_role_assume",
            "module.eks_cluster.data.aws_partition.spoke"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "vpc_resource_controller",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "vtbxmck-bootcamp-eks-cluster-role-20230926154422732100000006",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSVPCResourceController",
            "role": "vtbxmck-bootcamp-eks-cluster-role"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.aws_iam_role.eks_cluster_role",
            "module.eks_cluster.data.aws_iam_policy_document.eks_cluster_role_assume",
            "module.eks_cluster.data.aws_partition.spoke"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "eks_cluster",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:371198079589:security-group/sg-0ed508d929eabba4d",
            "description": "EKS cluster security group.",
            "egress": [
              {
                "cidr_blocks": [],
                "description": "Allow cluster egress access to the Internet.",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [
                  "sg-05a3b9b2dc94522f5"
                ],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-0ed508d929eabba4d",
            "ingress": [
              {
                "cidr_blocks": [],
                "description": "Allow pods running on workers to send communication to cluster primary security group.",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [
                  "sg-05a3b9b2dc94522f5"
                ],
                "self": false,
                "to_port": 0
              },
              {
                "cidr_blocks": [],
                "description": "Allow pods to communicate with the EKS cluster API.",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-05a3b9b2dc94522f5"
                ],
                "self": false,
                "to_port": 443
              }
            ],
            "name": "vtbxmck-bootcamp-eks-cluster-sg20230926154418342400000002",
            "name_prefix": "vtbxmck-bootcamp-eks-cluster-sg",
            "owner_id": "371198079589",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "vtbxmck-bootcamp-eks-cluster-sg"
            },
            "tags_all": {
              "Name": "vtbxmck-bootcamp-eks-cluster-sg"
            },
            "timeouts": null,
            "vpc_id": "vpc-0142ed266c5de6da2"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0="
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "eks_nodes",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:371198079589:security-group/sg-05a3b9b2dc94522f5",
            "description": "Security group for all nodes in the cluster",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow nodes all egress to the Internet.",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 443
              },
              {
                "cidr_blocks": [],
                "description": "Allow nodes all egress to the self.",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": true,
                "to_port": 0
              }
            ],
            "id": "sg-05a3b9b2dc94522f5",
            "ingress": [
              {
                "cidr_blocks": [],
                "description": "Allow nodes to communicate with each other",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": true,
                "to_port": 0
              },
              {
                "cidr_blocks": [],
                "description": "Allow pods running extension API servers on port 443 to receive communication from cluster control plane.",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-0ed508d929eabba4d"
                ],
                "self": false,
                "to_port": 443
              },
              {
                "cidr_blocks": [],
                "description": "Allow pods running on workers to receive communication from cluster primary security group.",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [
                  "sg-0ed508d929eabba4d"
                ],
                "self": false,
                "to_port": 0
              },
              {
                "cidr_blocks": [],
                "description": "Allow worker Kubelets and pods to receive communication from the cluster control plane",
                "from_port": 1025,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-0ed508d929eabba4d"
                ],
                "self": false,
                "to_port": 65535
              }
            ],
            "name": "vtbxmck-bootcamp-eks-nodes-sg",
            "name_prefix": "",
            "owner_id": "371198079589",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "vtbxmck-bootcamp-eks-nodes-sg",
              "kubernetes.io/cluster/vtbxmck-bootcamp": "owned"
            },
            "tags_all": {
              "Name": "vtbxmck-bootcamp-eks-nodes-sg",
              "kubernetes.io/cluster/vtbxmck-bootcamp": "owned"
            },
            "timeouts": null,
            "vpc_id": "vpc-0142ed266c5de6da2"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0="
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cluster_egress_internet",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": null,
            "description": "Allow cluster egress access to the Internet.",
            "from_port": 0,
            "id": "sgrule-49419037",
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": null,
            "protocol": "-1",
            "security_group_id": "sg-0ed508d929eabba4d",
            "security_group_rule_id": "sgr-0e1d004013a48a089",
            "self": false,
            "source_security_group_id": "sg-05a3b9b2dc94522f5",
            "timeouts": null,
            "to_port": 0,
            "type": "egress"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.eks_cluster.aws_security_group.eks_cluster",
            "module.eks_cluster.aws_security_group.eks_nodes"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cluster_https_worker_ingress",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": null,
            "description": "Allow pods to communicate with the EKS cluster API.",
            "from_port": 443,
            "id": "sgrule-1027965989",
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": null,
            "protocol": "tcp",
            "security_group_id": "sg-0ed508d929eabba4d",
            "security_group_rule_id": "sgr-00ee96c69fb5d83ef",
            "self": false,
            "source_security_group_id": "sg-05a3b9b2dc94522f5",
            "timeouts": null,
            "to_port": 443,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.eks_cluster.aws_security_group.eks_cluster",
            "module.eks_cluster.aws_security_group.eks_nodes"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "cluster_primary_ingress_workers",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": null,
            "description": "Allow pods running on workers to send communication to cluster primary security group.",
            "from_port": 0,
            "id": "sgrule-1936243927",
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": null,
            "protocol": "-1",
            "security_group_id": "sg-0ed508d929eabba4d",
            "security_group_rule_id": "sgr-0e1d004013a48a089",
            "self": false,
            "source_security_group_id": "sg-05a3b9b2dc94522f5",
            "timeouts": null,
            "to_port": 0,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.eks_cluster.aws_cloudwatch_log_group.eks_cluster",
            "module.eks_cluster.aws_eks_cluster.main",
            "module.eks_cluster.aws_iam_role.eks_cluster_role",
            "module.eks_cluster.aws_iam_role_policy_attachment.cluster-policy",
            "module.eks_cluster.aws_iam_role_policy_attachment.service_policy",
            "module.eks_cluster.aws_iam_role_policy_attachment.vpc_resource_controller",
            "module.eks_cluster.aws_security_group.eks_cluster",
            "module.eks_cluster.aws_security_group.eks_nodes",
            "module.eks_cluster.data.aws_iam_policy_document.eks_cluster_role_assume",
            "module.eks_cluster.data.aws_partition.spoke",
            "module.eks_cluster.data.aws_region.spoke",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.module.envelope_encryption_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.envelope_encryption_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.random_string.postfix"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "nodes",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": null,
            "description": "Allow nodes to communicate with each other",
            "from_port": 0,
            "id": "sgrule-262950595",
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": null,
            "protocol": "-1",
            "security_group_id": "sg-05a3b9b2dc94522f5",
            "security_group_rule_id": "sgr-0231d8ecb17ee4b71",
            "self": false,
            "source_security_group_id": "sg-05a3b9b2dc94522f5",
            "timeouts": null,
            "to_port": 0,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.eks_cluster.aws_security_group.eks_nodes"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "nodes_inbound",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": null,
            "description": "Allow worker Kubelets and pods to receive communication from the cluster control plane",
            "from_port": 1025,
            "id": "sgrule-454544246",
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": null,
            "protocol": "tcp",
            "security_group_id": "sg-05a3b9b2dc94522f5",
            "security_group_rule_id": "sgr-03e671812aba71358",
            "self": false,
            "source_security_group_id": "sg-0ed508d929eabba4d",
            "timeouts": null,
            "to_port": 65535,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.eks_cluster.aws_security_group.eks_cluster",
            "module.eks_cluster.aws_security_group.eks_nodes"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "workers_egress_internet",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": "Allow nodes all egress to the Internet.",
            "from_port": 443,
            "id": "sgrule-1609783119",
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": null,
            "protocol": "tcp",
            "security_group_id": "sg-05a3b9b2dc94522f5",
            "security_group_rule_id": "sgr-08a6e75dc65a81446",
            "self": false,
            "source_security_group_id": null,
            "timeouts": null,
            "to_port": 443,
            "type": "egress"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.eks_cluster.aws_security_group.eks_nodes"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "workers_egress_self",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": null,
            "description": "Allow nodes all egress to the self.",
            "from_port": 0,
            "id": "sgrule-451915987",
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": null,
            "protocol": "-1",
            "security_group_id": "sg-05a3b9b2dc94522f5",
            "security_group_rule_id": "sgr-0231d8ecb17ee4b71",
            "self": false,
            "source_security_group_id": "sg-05a3b9b2dc94522f5",
            "timeouts": null,
            "to_port": 0,
            "type": "egress"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.eks_cluster.aws_security_group.eks_nodes"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "workers_ingress_cluster_https",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": null,
            "description": "Allow pods running extension API servers on port 443 to receive communication from cluster control plane.",
            "from_port": 443,
            "id": "sgrule-1112224518",
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": null,
            "protocol": "tcp",
            "security_group_id": "sg-05a3b9b2dc94522f5",
            "security_group_rule_id": "sgr-09a78152432b89867",
            "self": false,
            "source_security_group_id": "sg-0ed508d929eabba4d",
            "timeouts": null,
            "to_port": 443,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.eks_cluster.aws_security_group.eks_cluster",
            "module.eks_cluster.aws_security_group.eks_nodes"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "workers_ingress_cluster_primary",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": null,
            "description": "Allow pods running on workers to receive communication from cluster primary security group.",
            "from_port": 0,
            "id": "sgrule-2020773768",
            "ipv6_cidr_blocks": null,
            "prefix_list_ids": null,
            "protocol": "-1",
            "security_group_id": "sg-05a3b9b2dc94522f5",
            "security_group_rule_id": "sgr-08b24541b8a2daeaf",
            "self": false,
            "source_security_group_id": "sg-0ed508d929eabba4d",
            "timeouts": null,
            "to_port": 0,
            "type": "ingress"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.eks_cluster.aws_cloudwatch_log_group.eks_cluster",
            "module.eks_cluster.aws_eks_cluster.main",
            "module.eks_cluster.aws_iam_role.eks_cluster_role",
            "module.eks_cluster.aws_iam_role_policy_attachment.cluster-policy",
            "module.eks_cluster.aws_iam_role_policy_attachment.service_policy",
            "module.eks_cluster.aws_iam_role_policy_attachment.vpc_resource_controller",
            "module.eks_cluster.aws_security_group.eks_cluster",
            "module.eks_cluster.aws_security_group.eks_nodes",
            "module.eks_cluster.data.aws_iam_policy_document.eks_cluster_role_assume",
            "module.eks_cluster.data.aws_partition.spoke",
            "module.eks_cluster.data.aws_region.spoke",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.module.envelope_encryption_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.envelope_encryption_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.random_string.postfix"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster",
      "mode": "managed",
      "type": "random_string",
      "name": "postfix",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "id": "8dklw",
            "keepers": null,
            "length": 5,
            "lower": true,
            "min_lower": 0,
            "min_numeric": 0,
            "min_special": 0,
            "min_upper": 0,
            "number": true,
            "numeric": true,
            "override_special": null,
            "result": "8dklw",
            "special": false,
            "upper": true
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.cloudwatch_log_group_kms_key",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "371198079589",
            "arn": "arn:aws:sts::371198079589:assumed-role/user-access/Thai_Nguyen@mckinsey.com",
            "id": "371198079589",
            "user_id": "AROAVM3JBGJSWZBKKI3BZ:Thai_Nguyen@mckinsey.com"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.cloudwatch_log_group_kms_key",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "kms_key_policy_direct",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "2611034049",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"Allow Admin\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"kms:Update*\",\n        \"kms:UntagResource\",\n        \"kms:TagResource\",\n        \"kms:ScheduleKeyDeletion\",\n        \"kms:Revoke*\",\n        \"kms:Put*\",\n        \"kms:List*\",\n        \"kms:Get*\",\n        \"kms:Enable*\",\n        \"kms:Disable*\",\n        \"kms:Describe*\",\n        \"kms:Delete*\",\n        \"kms:Create*\",\n        \"kms:CancelKeyDeletion\"\n      ],\n      \"Resource\": \"*\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::371198079589:root\"\n      }\n    },\n    {\n      \"Sid\": \"Allow Cryptography\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"kms:ReEncrypt*\",\n        \"kms:GenerateDataKey*\",\n        \"kms:Encrypt\",\n        \"kms:DescribeKey\",\n        \"kms:Decrypt\",\n        \"kms:CreateGrant\"\n      ],\n      \"Resource\": \"*\",\n      \"Principal\": {\n        \"Service\": \"logs.us-east-1.amazonaws.com\"\n      }\n    }\n  ]\n}",
            "override_policy_documents": null,
            "policy_id": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "kms:CancelKeyDeletion",
                  "kms:Create*",
                  "kms:Delete*",
                  "kms:Describe*",
                  "kms:Disable*",
                  "kms:Enable*",
                  "kms:Get*",
                  "kms:List*",
                  "kms:Put*",
                  "kms:Revoke*",
                  "kms:ScheduleKeyDeletion",
                  "kms:TagResource",
                  "kms:UntagResource",
                  "kms:Update*"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "arn:aws:iam::371198079589:root"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "*"
                ],
                "sid": "Allow Admin"
              },
              {
                "actions": [
                  "kms:CreateGrant",
                  "kms:Decrypt",
                  "kms:DescribeKey",
                  "kms:Encrypt",
                  "kms:GenerateDataKey*",
                  "kms:ReEncrypt*"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "logs.us-east-1.amazonaws.com"
                    ],
                    "type": "Service"
                  }
                ],
                "resources": [
                  "*"
                ],
                "sid": "Allow Cryptography"
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.cloudwatch_log_group_kms_key",
      "mode": "managed",
      "type": "aws_kms_alias",
      "name": "direct_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:us-east-1:371198079589:alias//aws/eks/vtbxmck-bootcamp/cluster-8dklw-uiupr",
            "id": "alias//aws/eks/vtbxmck-bootcamp/cluster-8dklw-uiupr",
            "name": "alias//aws/eks/vtbxmck-bootcamp/cluster-8dklw-uiupr",
            "name_prefix": "",
            "target_key_arn": "arn:aws:kms:us-east-1:371198079589:key/f5333219-b142-44bb-9f02-07d0407735a5",
            "target_key_id": "f5333219-b142-44bb-9f02-07d0407735a5"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.data.aws_region.spoke",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.random_string.random_suffix",
            "module.eks_cluster.random_string.postfix"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.cloudwatch_log_group_kms_key",
      "mode": "managed",
      "type": "aws_kms_key",
      "name": "direct_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:us-east-1:371198079589:key/f5333219-b142-44bb-9f02-07d0407735a5",
            "bypass_policy_lockout_safety_check": false,
            "custom_key_store_id": "",
            "customer_master_key_spec": "SYMMETRIC_DEFAULT",
            "deletion_window_in_days": 30,
            "description": "Used to encrypt cloudwatch logs",
            "enable_key_rotation": true,
            "id": "f5333219-b142-44bb-9f02-07d0407735a5",
            "is_enabled": true,
            "key_id": "f5333219-b142-44bb-9f02-07d0407735a5",
            "key_usage": "ENCRYPT_DECRYPT",
            "multi_region": false,
            "policy": "{\"Statement\":[{\"Action\":[\"kms:Update*\",\"kms:UntagResource\",\"kms:TagResource\",\"kms:ScheduleKeyDeletion\",\"kms:Revoke*\",\"kms:Put*\",\"kms:List*\",\"kms:Get*\",\"kms:Enable*\",\"kms:Disable*\",\"kms:Describe*\",\"kms:Delete*\",\"kms:Create*\",\"kms:CancelKeyDeletion\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::371198079589:root\"},\"Resource\":\"*\",\"Sid\":\"Allow Admin\"},{\"Action\":[\"kms:ReEncrypt*\",\"kms:GenerateDataKey*\",\"kms:Encrypt\",\"kms:DescribeKey\",\"kms:Decrypt\",\"kms:CreateGrant\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"logs.us-east-1.amazonaws.com\"},\"Resource\":\"*\",\"Sid\":\"Allow Cryptography\"}],\"Version\":\"2012-10-17\"}",
            "tags": {
              "Alias": "/aws/eks/vtbxmck-bootcamp/cluster-8dklw"
            },
            "tags_all": {
              "Alias": "/aws/eks/vtbxmck-bootcamp/cluster-8dklw"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.data.aws_region.spoke",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.random_string.postfix"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.cloudwatch_log_group_kms_key",
      "mode": "managed",
      "type": "random_string",
      "name": "random_suffix",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "id": "uiupr",
            "keepers": null,
            "length": 5,
            "lower": true,
            "min_lower": 0,
            "min_numeric": 0,
            "min_special": 0,
            "min_upper": 0,
            "number": false,
            "numeric": false,
            "override_special": null,
            "result": "uiupr",
            "special": false,
            "upper": false
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "data",
      "type": "archive_file",
      "name": "lambda_zip",
      "provider": "provider[\"registry.terraform.io/hashicorp/archive\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "exclude_symlink_directories": null,
            "excludes": null,
            "id": "2ebe452c680ddb0d502d56923c94b5480df5db4e",
            "output_base64sha256": "kLmLENoudO2xuQfJISVprYQSSMQgPEV9EdLePZav3ik=",
            "output_base64sha512": "J5SooSwsETuiOJ40gKQZJ9EUgJINWld87lr1+UMzDVxT2x0pH7/1zYCZ88vJWI1NHOfjtKGlIHT16FNmnvdxlw==",
            "output_file_mode": null,
            "output_md5": "bbb075f94cb968bca636c51258592efd",
            "output_path": ".terraform/modules/eks_cluster.control_plane_log_aggregation/tmp/lambda.zip",
            "output_sha": "2ebe452c680ddb0d502d56923c94b5480df5db4e",
            "output_sha256": "90b98b10da2e74edb1b907c9212569ad841248c4203c457d11d2de3d96afde29",
            "output_sha512": "2794a8a12c2c113ba2389e3480a41927d11480920d5a577cee5af5f943330d5c53db1d291fbff5cd8099f3cbc9588d4d1ce7e3b4a1a52074f5e853669ef77197",
            "output_size": 2320,
            "source": [],
            "source_content": null,
            "source_content_filename": null,
            "source_dir": null,
            "source_file": ".terraform/modules/eks_cluster.control_plane_log_aggregation/lambda-code/index.js",
            "type": "zip"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "logging",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "371198079589",
            "arn": "arn:aws:sts::371198079589:assumed-role/user-access/Thai_Nguyen@mckinsey.com",
            "id": "371198079589",
            "user_id": "AROAVM3JBGJSWZBKKI3BZ:Thai_Nguyen@mckinsey.com"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "source",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "371198079589",
            "arn": "arn:aws:sts::371198079589:assumed-role/user-access/Thai_Nguyen@mckinsey.com",
            "id": "371198079589",
            "user_id": "AROAVM3JBGJSWZBKKI3BZ:Thai_Nguyen@mckinsey.com"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "CWLtoKinesisFireHose",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "4048290997",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"KinesisFirehosePut\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"firehose:UpdateDestination\",\n        \"firehose:StopDeliveryStreamEncryption\",\n        \"firehose:StartDeliveryStreamEncryption\",\n        \"firehose:PutRecordBatch\",\n        \"firehose:PutRecord\",\n        \"firehose:DeleteDeliveryStream\",\n        \"firehose:CreateDeliveryStream\"\n      ],\n      \"Resource\": \"arn:aws:firehose:us-east-1:371198079589:deliverystream/vtbxmck-bootcamp-EKS-8521c619-logs-s3-us-east-1\"\n    }\n  ]\n}",
            "override_policy_documents": null,
            "policy_id": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "firehose:CreateDeliveryStream",
                  "firehose:DeleteDeliveryStream",
                  "firehose:PutRecord",
                  "firehose:PutRecordBatch",
                  "firehose:StartDeliveryStreamEncryption",
                  "firehose:StopDeliveryStreamEncryption",
                  "firehose:UpdateDestination"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:firehose:us-east-1:371198079589:deliverystream/vtbxmck-bootcamp-EKS-8521c619-logs-s3-us-east-1"
                ],
                "sid": "KinesisFirehosePut"
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "allow_assume_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "840099638",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"CWLtoKinesisFirehoseRole\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"logs.us-east-1.amazonaws.com\"\n      }\n    }\n  ]\n}",
            "override_policy_documents": null,
            "policy_id": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "logs.us-east-1.amazonaws.com"
                    ],
                    "type": "Service"
                  }
                ],
                "resources": [],
                "sid": "CWLtoKinesisFirehoseRole"
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "firehose_assume_role_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "448001158",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"FirehoseAssumeRole\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"firehose.amazonaws.com\"\n      }\n    }\n  ]\n}",
            "override_policy_documents": null,
            "policy_id": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "firehose.amazonaws.com"
                    ],
                    "type": "Service"
                  }
                ],
                "resources": [],
                "sid": "FirehoseAssumeRole"
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "firehose_role_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2788544496",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:PutObjectAcl\",\n        \"s3:PutObject\",\n        \"s3:ListBucketMultipartUploads\",\n        \"s3:ListBucket\",\n        \"s3:GetObject\",\n        \"s3:GetBucketLocation\",\n        \"s3:AbortMultipartUpload\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::vtbxmck-bootcamp-eks-api/*\",\n        \"arn:aws:s3:::vtbxmck-bootcamp-eks-api\"\n      ]\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"kms:GenerateDataKey\",\n        \"kms:DescribeKey\",\n        \"kms:Decrypt\"\n      ],\n      \"Resource\": \"arn:aws:kms:us-east-1:371198079589:key/69552007-0e80-4821-99ac-17585bc0f5cc\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"kms:ViaService\": \"s3.us-east-1.amazonaws.com\"\n        },\n        \"StringLike\": {\n          \"kms:EncryptionContext:aws:s3:arn\": \"arn:aws:s3:::vtbxmck-bootcamp-eks-api/*\"\n        }\n      }\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"logs:PutLogEvents\",\n      \"Resource\": \"arn:aws:log:us-east-1:371198079589:log-group:/error/kinesis_firehose_delivery_stream/EKS/_aws_eks_vtbxmck-bootcamp_cluster:log-stream:cloudwatchlogs\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"lambda:InvokeFunction\",\n        \"lambda:GetFunctionConfiguration\"\n      ],\n      \"Resource\": \"arn:aws:lambda:us-east-1:371198079589:function:vtbxmck-bootcamp-EKS-logx:*\"\n    }\n  ]\n}",
            "override_policy_documents": null,
            "policy_id": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "s3:AbortMultipartUpload",
                  "s3:GetBucketLocation",
                  "s3:GetObject",
                  "s3:ListBucket",
                  "s3:ListBucketMultipartUploads",
                  "s3:PutObject",
                  "s3:PutObjectAcl"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:s3:::vtbxmck-bootcamp-eks-api",
                  "arn:aws:s3:::vtbxmck-bootcamp-eks-api/*"
                ],
                "sid": ""
              },
              {
                "actions": [
                  "kms:Decrypt",
                  "kms:DescribeKey",
                  "kms:GenerateDataKey"
                ],
                "condition": [
                  {
                    "test": "StringEquals",
                    "values": [
                      "s3.us-east-1.amazonaws.com"
                    ],
                    "variable": "kms:ViaService"
                  },
                  {
                    "test": "StringLike",
                    "values": [
                      "arn:aws:s3:::vtbxmck-bootcamp-eks-api/*"
                    ],
                    "variable": "kms:EncryptionContext:aws:s3:arn"
                  }
                ],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:kms:us-east-1:371198079589:key/69552007-0e80-4821-99ac-17585bc0f5cc"
                ],
                "sid": ""
              },
              {
                "actions": [
                  "logs:PutLogEvents"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:log:us-east-1:371198079589:log-group:/error/kinesis_firehose_delivery_stream/EKS/_aws_eks_vtbxmck-bootcamp_cluster:log-stream:cloudwatchlogs"
                ],
                "sid": ""
              },
              {
                "actions": [
                  "lambda:GetFunctionConfiguration",
                  "lambda:InvokeFunction"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:lambda:us-east-1:371198079589:function:vtbxmck-bootcamp-EKS-logx:*"
                ],
                "sid": ""
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "lambda_exec",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1490639091",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"LambdaExecutionRole\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      }\n    }\n  ]\n}",
            "override_policy_documents": null,
            "policy_id": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "lambda.amazonaws.com"
                    ],
                    "type": "Service"
                  }
                ],
                "resources": [],
                "sid": "LambdaExecutionRole"
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "data",
      "type": "aws_region",
      "name": "logging",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "US East (N. Virginia)",
            "endpoint": "ec2.us-east-1.amazonaws.com",
            "id": "us-east-1",
            "name": "us-east-1"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "data",
      "type": "aws_region",
      "name": "source",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "US East (N. Virginia)",
            "endpoint": "ec2.us-east-1.amazonaws.com",
            "id": "us-east-1",
            "name": "us-east-1"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "kinesis_execution",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-east-1:371198079589:log-group:/error/kinesis_firehose_delivery_stream/EKS/_aws_eks_vtbxmck-bootcamp_cluster",
            "id": "/error/kinesis_firehose_delivery_stream/EKS/_aws_eks_vtbxmck-bootcamp_cluster",
            "kms_key_id": "arn:aws:kms:us-east-1:371198079589:key/6dc1181d-7836-4c55-802e-9f1255f7b8ea",
            "name": "/error/kinesis_firehose_delivery_stream/EKS/_aws_eks_vtbxmck-bootcamp_cluster",
            "name_prefix": "",
            "retention_in_days": 0,
            "skip_destroy": false,
            "tags": {
              "Name": "vtbxmck-bootcamp"
            },
            "tags_all": {
              "Name": "vtbxmck-bootcamp"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.aws_cloudwatch_log_group.eks_cluster",
            "module.eks_cluster.data.aws_region.spoke",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_region.source",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.random_string.postfix"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "managed",
      "type": "aws_cloudwatch_log_stream",
      "name": "kinesis_execution",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:us-east-1:371198079589:log-group:/error/kinesis_firehose_delivery_stream/EKS/_aws_eks_vtbxmck-bootcamp_cluster:log-stream:cloudwatchlogs",
            "id": "cloudwatchlogs",
            "log_group_name": "/error/kinesis_firehose_delivery_stream/EKS/_aws_eks_vtbxmck-bootcamp_cluster",
            "name": "cloudwatchlogs"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.aws_cloudwatch_log_group.eks_cluster",
            "module.eks_cluster.data.aws_region.spoke",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_cloudwatch_log_group.kinesis_execution",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_region.source",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.random_string.postfix"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "managed",
      "type": "aws_cloudwatch_log_subscription_filter",
      "name": "cwl_to_kinesis_aggregation",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "destination_arn": "arn:aws:firehose:us-east-1:371198079589:deliverystream/vtbxmck-bootcamp-EKS-8521c619-logs-s3-us-east-1",
            "distribution": "Random",
            "filter_pattern": "",
            "id": "cwlsf-1831083969",
            "log_group_name": "/aws/eks/vtbxmck-bootcamp/cluster",
            "name": "vtbxmck-bootcamp-EKS-cwl-to-kinesis-aggregation",
            "role_arn": "arn:aws:iam::371198079589:role/vtbxmck-bootcamp-EKS-8521c619-CW2KF-us-east-1"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_kms_key.codepipeline",
            "aws_s3_bucket.eks",
            "module.eks_cluster.aws_cloudwatch_log_group.eks_cluster",
            "module.eks_cluster.data.aws_region.spoke",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_cloudwatch_log_group.kinesis_execution",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_cloudwatch_log_stream.kinesis_execution",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_iam_role.cloudwatch_kinesis_firehose",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_iam_role.firehose_role",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_iam_role.lambda_exec",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_kinesis_firehose_delivery_stream.logs_to_s3",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_lambda_function.log_transform",
            "module.eks_cluster.module.control_plane_log_aggregation.data.archive_file.lambda_zip",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_caller_identity.source",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_iam_policy_document.allow_assume_role",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_iam_policy_document.firehose_assume_role_policy",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_iam_policy_document.lambda_exec",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_region.logging",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_region.source",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.module.control_plane_log_aggregation.random_id.log_aggregation",
            "module.eks_cluster.random_string.postfix"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "cloudwatch_kinesis_firehose",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::371198079589:role/vtbxmck-bootcamp-EKS-8521c619-CW2KF-us-east-1",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"logs.us-east-1.amazonaws.com\"},\"Sid\":\"CWLtoKinesisFirehoseRole\"}],\"Version\":\"2012-10-17\"}",
            "create_date": "2023-09-26T15:44:21Z",
            "description": "",
            "force_detach_policies": false,
            "id": "vtbxmck-bootcamp-EKS-8521c619-CW2KF-us-east-1",
            "inline_policy": [
              {
                "name": "vtbxmck-bootcamp-EKS-CW2KF-us-east-1",
                "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"firehose:UpdateDestination\",\"firehose:StopDeliveryStreamEncryption\",\"firehose:StartDeliveryStreamEncryption\",\"firehose:PutRecordBatch\",\"firehose:PutRecord\",\"firehose:DeleteDeliveryStream\",\"firehose:CreateDeliveryStream\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:firehose:us-east-1:371198079589:deliverystream/vtbxmck-bootcamp-EKS-8521c619-logs-s3-us-east-1\",\"Sid\":\"KinesisFirehosePut\"}]}"
              }
            ],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "vtbxmck-bootcamp-EKS-8521c619-CW2KF-us-east-1",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "tags": {
              "Name": "vtbxmck-bootcamp-EKS-CW2KF-us-east-1"
            },
            "tags_all": {
              "Name": "vtbxmck-bootcamp-EKS-CW2KF-us-east-1"
            },
            "unique_id": "AROAVM3JBGJSUDEPG5K2Q"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_iam_policy_document.allow_assume_role",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_region.logging",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_region.source",
            "module.eks_cluster.module.control_plane_log_aggregation.random_id.log_aggregation"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "firehose_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::371198079589:role/vtbxmck-bootcamp-EKS-8521c619-fh-us-east-1",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"firehose.amazonaws.com\"},\"Sid\":\"FirehoseAssumeRole\"}],\"Version\":\"2012-10-17\"}",
            "create_date": "2023-09-26T15:44:21Z",
            "description": "",
            "force_detach_policies": false,
            "id": "vtbxmck-bootcamp-EKS-8521c619-fh-us-east-1",
            "inline_policy": [
              {
                "name": "vtbxmck-bootcamp-EKS-8521c619-fh-us-east-1",
                "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"s3:PutObjectAcl\",\"s3:PutObject\",\"s3:ListBucketMultipartUploads\",\"s3:ListBucket\",\"s3:GetObject\",\"s3:GetBucketLocation\",\"s3:AbortMultipartUpload\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::vtbxmck-bootcamp-eks-api/*\",\"arn:aws:s3:::vtbxmck-bootcamp-eks-api\"]},{\"Action\":[\"kms:GenerateDataKey\",\"kms:DescribeKey\",\"kms:Decrypt\"],\"Condition\":{\"StringEquals\":{\"kms:ViaService\":\"s3.us-east-1.amazonaws.com\"},\"StringLike\":{\"kms:EncryptionContext:aws:s3:arn\":\"arn:aws:s3:::vtbxmck-bootcamp-eks-api/*\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:kms:us-east-1:371198079589:key/69552007-0e80-4821-99ac-17585bc0f5cc\"},{\"Action\":\"logs:PutLogEvents\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:log:us-east-1:371198079589:log-group:/error/kinesis_firehose_delivery_stream/EKS/_aws_eks_vtbxmck-bootcamp_cluster:log-stream:cloudwatchlogs\"},{\"Action\":[\"lambda:InvokeFunction\",\"lambda:GetFunctionConfiguration\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:lambda:us-east-1:371198079589:function:vtbxmck-bootcamp-EKS-logx:*\"}]}"
              }
            ],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "vtbxmck-bootcamp-EKS-8521c619-fh-us-east-1",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "tags": {
              "Name": "local.firehose_role_name"
            },
            "tags_all": {
              "Name": "local.firehose_role_name"
            },
            "unique_id": "AROAVM3JBGJSZRL3EF7MY"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_iam_policy_document.firehose_assume_role_policy",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_region.source",
            "module.eks_cluster.module.control_plane_log_aggregation.random_id.log_aggregation"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "lambda_exec",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::371198079589:role/vtbxmck-bootcamp-EKS-logx-us-east-1",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"LambdaExecutionRole\"}],\"Version\":\"2012-10-17\"}",
            "create_date": "2023-09-26T15:44:20Z",
            "description": "",
            "force_detach_policies": false,
            "id": "vtbxmck-bootcamp-EKS-logx-us-east-1",
            "inline_policy": [],
            "managed_policy_arns": [
              "arn:aws:iam::aws:policy/AmazonKinesisFirehoseFullAccess",
              "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
            ],
            "max_session_duration": 3600,
            "name": "vtbxmck-bootcamp-EKS-logx-us-east-1",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "tags": {
              "Name": "vtbxmck-bootcamp-EKS-logx-role"
            },
            "tags_all": {
              "Name": "vtbxmck-bootcamp-EKS-logx-role"
            },
            "unique_id": "AROAVM3JBGJSYZ3QVRISC"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_iam_policy_document.lambda_exec",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_region.source"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "CWLtoKinesisFireHose",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "vtbxmck-bootcamp-EKS-8521c619-CW2KF-us-east-1:vtbxmck-bootcamp-EKS-CW2KF-us-east-1",
            "name": "vtbxmck-bootcamp-EKS-CW2KF-us-east-1",
            "name_prefix": null,
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"firehose:UpdateDestination\",\"firehose:StopDeliveryStreamEncryption\",\"firehose:StartDeliveryStreamEncryption\",\"firehose:PutRecordBatch\",\"firehose:PutRecord\",\"firehose:DeleteDeliveryStream\",\"firehose:CreateDeliveryStream\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:firehose:us-east-1:371198079589:deliverystream/vtbxmck-bootcamp-EKS-8521c619-logs-s3-us-east-1\",\"Sid\":\"KinesisFirehosePut\"}]}",
            "role": "vtbxmck-bootcamp-EKS-8521c619-CW2KF-us-east-1"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_kms_key.codepipeline",
            "aws_s3_bucket.eks",
            "module.eks_cluster.aws_cloudwatch_log_group.eks_cluster",
            "module.eks_cluster.data.aws_region.spoke",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_cloudwatch_log_group.kinesis_execution",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_cloudwatch_log_stream.kinesis_execution",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_iam_role.cloudwatch_kinesis_firehose",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_iam_role.firehose_role",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_iam_role.lambda_exec",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_kinesis_firehose_delivery_stream.logs_to_s3",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_lambda_function.log_transform",
            "module.eks_cluster.module.control_plane_log_aggregation.data.archive_file.lambda_zip",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_caller_identity.source",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_iam_policy_document.CWLtoKinesisFireHose",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_iam_policy_document.allow_assume_role",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_iam_policy_document.firehose_assume_role_policy",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_iam_policy_document.lambda_exec",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_region.logging",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_region.source",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.module.control_plane_log_aggregation.random_id.log_aggregation",
            "module.eks_cluster.random_string.postfix"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "firehose_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "vtbxmck-bootcamp-EKS-8521c619-fh-us-east-1:vtbxmck-bootcamp-EKS-8521c619-fh-us-east-1",
            "name": "vtbxmck-bootcamp-EKS-8521c619-fh-us-east-1",
            "name_prefix": null,
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"s3:PutObjectAcl\",\"s3:PutObject\",\"s3:ListBucketMultipartUploads\",\"s3:ListBucket\",\"s3:GetObject\",\"s3:GetBucketLocation\",\"s3:AbortMultipartUpload\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::vtbxmck-bootcamp-eks-api/*\",\"arn:aws:s3:::vtbxmck-bootcamp-eks-api\"]},{\"Action\":[\"kms:GenerateDataKey\",\"kms:DescribeKey\",\"kms:Decrypt\"],\"Condition\":{\"StringEquals\":{\"kms:ViaService\":\"s3.us-east-1.amazonaws.com\"},\"StringLike\":{\"kms:EncryptionContext:aws:s3:arn\":\"arn:aws:s3:::vtbxmck-bootcamp-eks-api/*\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:kms:us-east-1:371198079589:key/69552007-0e80-4821-99ac-17585bc0f5cc\"},{\"Action\":\"logs:PutLogEvents\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:log:us-east-1:371198079589:log-group:/error/kinesis_firehose_delivery_stream/EKS/_aws_eks_vtbxmck-bootcamp_cluster:log-stream:cloudwatchlogs\"},{\"Action\":[\"lambda:InvokeFunction\",\"lambda:GetFunctionConfiguration\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:lambda:us-east-1:371198079589:function:vtbxmck-bootcamp-EKS-logx:*\"}]}",
            "role": "vtbxmck-bootcamp-EKS-8521c619-fh-us-east-1"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_kms_key.codepipeline",
            "aws_s3_bucket.eks",
            "module.eks_cluster.aws_cloudwatch_log_group.eks_cluster",
            "module.eks_cluster.data.aws_region.spoke",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_cloudwatch_log_group.kinesis_execution",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_cloudwatch_log_stream.kinesis_execution",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_iam_role.firehose_role",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_iam_role.lambda_exec",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_lambda_function.log_transform",
            "module.eks_cluster.module.control_plane_log_aggregation.data.archive_file.lambda_zip",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_caller_identity.source",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_iam_policy_document.firehose_assume_role_policy",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_iam_policy_document.firehose_role_policy",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_iam_policy_document.lambda_exec",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_region.logging",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_region.source",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.module.control_plane_log_aggregation.random_id.log_aggregation",
            "module.eks_cluster.random_string.postfix"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "additional",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": "kinesis",
          "schema_version": 0,
          "attributes": {
            "id": "vtbxmck-bootcamp-EKS-logx-us-east-1-2023092615442350800000000a",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonKinesisFirehoseFullAccess",
            "role": "vtbxmck-bootcamp-EKS-logx-us-east-1"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.module.control_plane_log_aggregation.aws_iam_role.lambda_exec",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_iam_policy_document.lambda_exec",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_region.source"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "base",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "vtbxmck-bootcamp-EKS-logx-us-east-1-20230926154423061400000009",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
            "role": "vtbxmck-bootcamp-EKS-logx-us-east-1"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.module.control_plane_log_aggregation.aws_iam_role.lambda_exec",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_iam_policy_document.lambda_exec",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_region.source"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "managed",
      "type": "aws_kinesis_firehose_delivery_stream",
      "name": "logs_to_s3",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:firehose:us-east-1:371198079589:deliverystream/vtbxmck-bootcamp-EKS-8521c619-logs-s3-us-east-1",
            "destination": "extended_s3",
            "destination_id": "destinationId-000000000001",
            "elasticsearch_configuration": [],
            "extended_s3_configuration": [
              {
                "bucket_arn": "arn:aws:s3:::vtbxmck-bootcamp-eks-api",
                "buffering_interval": 300,
                "buffering_size": 5,
                "cloudwatch_logging_options": [
                  {
                    "enabled": true,
                    "log_group_name": "/error/kinesis_firehose_delivery_stream/EKS/_aws_eks_vtbxmck-bootcamp_cluster",
                    "log_stream_name": "cloudwatchlogs"
                  }
                ],
                "compression_format": "UNCOMPRESSED",
                "data_format_conversion_configuration": [],
                "dynamic_partitioning_configuration": [],
                "error_output_prefix": "",
                "kms_key_arn": "arn:aws:kms:us-east-1:371198079589:key/69552007-0e80-4821-99ac-17585bc0f5cc",
                "prefix": "EKS/371198079589/_aws_eks_vtbxmck-bootcamp_cluster/",
                "processing_configuration": [
                  {
                    "enabled": true,
                    "processors": [
                      {
                        "parameters": [
                          {
                            "parameter_name": "LambdaArn",
                            "parameter_value": "arn:aws:lambda:us-east-1:371198079589:function:vtbxmck-bootcamp-EKS-logx:$LATEST"
                          },
                          {
                            "parameter_name": "BufferSizeInMBs",
                            "parameter_value": "2"
                          },
                          {
                            "parameter_name": "BufferIntervalInSeconds",
                            "parameter_value": "90"
                          }
                        ],
                        "type": "Lambda"
                      }
                    ]
                  }
                ],
                "role_arn": "arn:aws:iam::371198079589:role/vtbxmck-bootcamp-EKS-8521c619-fh-us-east-1",
                "s3_backup_configuration": [],
                "s3_backup_mode": "Disabled"
              }
            ],
            "http_endpoint_configuration": [],
            "id": "arn:aws:firehose:us-east-1:371198079589:deliverystream/vtbxmck-bootcamp-EKS-8521c619-logs-s3-us-east-1",
            "kinesis_source_configuration": [],
            "name": "vtbxmck-bootcamp-EKS-8521c619-logs-s3-us-east-1",
            "opensearch_configuration": [],
            "redshift_configuration": [],
            "server_side_encryption": [
              {
                "enabled": false,
                "key_arn": "",
                "key_type": "AWS_OWNED_CMK"
              }
            ],
            "splunk_configuration": [],
            "tags": {
              "Name": "vtbxmck-bootcamp-EKS"
            },
            "tags_all": {
              "Name": "vtbxmck-bootcamp-EKS"
            },
            "timeouts": null,
            "version_id": "1"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInVwZGF0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "aws_kms_key.codepipeline",
            "aws_s3_bucket.eks",
            "module.eks_cluster.aws_cloudwatch_log_group.eks_cluster",
            "module.eks_cluster.data.aws_region.spoke",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_cloudwatch_log_group.kinesis_execution",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_cloudwatch_log_stream.kinesis_execution",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_iam_role.firehose_role",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_iam_role.lambda_exec",
            "module.eks_cluster.module.control_plane_log_aggregation.aws_lambda_function.log_transform",
            "module.eks_cluster.module.control_plane_log_aggregation.data.archive_file.lambda_zip",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_caller_identity.source",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_iam_policy_document.firehose_assume_role_policy",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_iam_policy_document.lambda_exec",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_region.source",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.aws_kms_key.service_key",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_via_service",
            "module.eks_cluster.module.control_plane_log_aggregation.random_id.log_aggregation",
            "module.eks_cluster.random_string.postfix"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "managed",
      "type": "aws_lambda_function",
      "name": "log_transform",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architectures": [
              "x86_64"
            ],
            "arn": "arn:aws:lambda:us-east-1:371198079589:function:vtbxmck-bootcamp-EKS-logx",
            "code_signing_config_arn": "",
            "dead_letter_config": [],
            "description": "Unzip cloudwatch logs files to make it human readable",
            "environment": [],
            "ephemeral_storage": [
              {
                "size": 512
              }
            ],
            "file_system_config": [],
            "filename": ".terraform/modules/eks_cluster.control_plane_log_aggregation/tmp/lambda.zip",
            "function_name": "vtbxmck-bootcamp-EKS-logx",
            "handler": "index.handler",
            "id": "vtbxmck-bootcamp-EKS-logx",
            "image_config": [],
            "image_uri": "",
            "invoke_arn": "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:371198079589:function:vtbxmck-bootcamp-EKS-logx/invocations",
            "kms_key_arn": "",
            "last_modified": "2023-09-26T15:44:29.249+0000",
            "layers": [],
            "memory_size": 512,
            "package_type": "Zip",
            "publish": true,
            "qualified_arn": "arn:aws:lambda:us-east-1:371198079589:function:vtbxmck-bootcamp-EKS-logx:2",
            "qualified_invoke_arn": "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:371198079589:function:vtbxmck-bootcamp-EKS-logx:2/invocations",
            "replace_security_groups_on_destroy": null,
            "replacement_security_group_ids": null,
            "reserved_concurrent_executions": -1,
            "role": "arn:aws:iam::371198079589:role/vtbxmck-bootcamp-EKS-logx-us-east-1",
            "runtime": "nodejs16.x",
            "s3_bucket": null,
            "s3_key": null,
            "s3_object_version": null,
            "signing_job_arn": "",
            "signing_profile_version_arn": "",
            "skip_destroy": false,
            "snap_start": [],
            "source_code_hash": "kLmLENoudO2xuQfJISVprYQSSMQgPEV9EdLePZav3ik=",
            "source_code_size": 2320,
            "tags": {
              "Name": "vtbxmck-bootcamp-EKS-logx"
            },
            "tags_all": {
              "Name": "vtbxmck-bootcamp-EKS-logx"
            },
            "timeout": 60,
            "timeouts": null,
            "tracing_config": [
              {
                "mode": "PassThrough"
              }
            ],
            "version": "2",
            "vpc_config": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.eks_cluster.module.control_plane_log_aggregation.aws_iam_role.lambda_exec",
            "module.eks_cluster.module.control_plane_log_aggregation.data.archive_file.lambda_zip",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_iam_policy_document.lambda_exec",
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_region.source"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation",
      "mode": "managed",
      "type": "random_id",
      "name": "log_aggregation",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "b64_std": "hSHGGQ==",
            "b64_url": "hSHGGQ",
            "byte_length": 4,
            "dec": "2233583129",
            "hex": "8521c619",
            "id": "hSHGGQ",
            "keepers": null,
            "prefix": null
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "371198079589",
            "arn": "arn:aws:sts::371198079589:assumed-role/user-access/Thai_Nguyen@mckinsey.com",
            "id": "371198079589",
            "user_id": "AROAVM3JBGJSWZBKKI3BZ:Thai_Nguyen@mckinsey.com"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "kms_key_policy_direct",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "2611034049",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"Allow Admin\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"kms:Update*\",\n        \"kms:UntagResource\",\n        \"kms:TagResource\",\n        \"kms:ScheduleKeyDeletion\",\n        \"kms:Revoke*\",\n        \"kms:Put*\",\n        \"kms:List*\",\n        \"kms:Get*\",\n        \"kms:Enable*\",\n        \"kms:Disable*\",\n        \"kms:Describe*\",\n        \"kms:Delete*\",\n        \"kms:Create*\",\n        \"kms:CancelKeyDeletion\"\n      ],\n      \"Resource\": \"*\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::371198079589:root\"\n      }\n    },\n    {\n      \"Sid\": \"Allow Cryptography\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"kms:ReEncrypt*\",\n        \"kms:GenerateDataKey*\",\n        \"kms:Encrypt\",\n        \"kms:DescribeKey\",\n        \"kms:Decrypt\",\n        \"kms:CreateGrant\"\n      ],\n      \"Resource\": \"*\",\n      \"Principal\": {\n        \"Service\": \"logs.us-east-1.amazonaws.com\"\n      }\n    }\n  ]\n}",
            "override_policy_documents": null,
            "policy_id": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "kms:CancelKeyDeletion",
                  "kms:Create*",
                  "kms:Delete*",
                  "kms:Describe*",
                  "kms:Disable*",
                  "kms:Enable*",
                  "kms:Get*",
                  "kms:List*",
                  "kms:Put*",
                  "kms:Revoke*",
                  "kms:ScheduleKeyDeletion",
                  "kms:TagResource",
                  "kms:UntagResource",
                  "kms:Update*"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "arn:aws:iam::371198079589:root"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "*"
                ],
                "sid": "Allow Admin"
              },
              {
                "actions": [
                  "kms:CreateGrant",
                  "kms:Decrypt",
                  "kms:DescribeKey",
                  "kms:Encrypt",
                  "kms:GenerateDataKey*",
                  "kms:ReEncrypt*"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "logs.us-east-1.amazonaws.com"
                    ],
                    "type": "Service"
                  }
                ],
                "resources": [
                  "*"
                ],
                "sid": "Allow Cryptography"
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key",
      "mode": "managed",
      "type": "aws_kms_alias",
      "name": "direct_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:us-east-1:371198079589:alias/vtbxmck-bootcamp-cloudwatch-ogebb",
            "id": "alias/vtbxmck-bootcamp-cloudwatch-ogebb",
            "name": "alias/vtbxmck-bootcamp-cloudwatch-ogebb",
            "name_prefix": "",
            "target_key_arn": "arn:aws:kms:us-east-1:371198079589:key/6dc1181d-7836-4c55-802e-9f1255f7b8ea",
            "target_key_id": "6dc1181d-7836-4c55-802e-9f1255f7b8ea"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_region.source",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.random_string.random_suffix"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key",
      "mode": "managed",
      "type": "aws_kms_key",
      "name": "direct_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:us-east-1:371198079589:key/6dc1181d-7836-4c55-802e-9f1255f7b8ea",
            "bypass_policy_lockout_safety_check": false,
            "custom_key_store_id": "",
            "customer_master_key_spec": "SYMMETRIC_DEFAULT",
            "deletion_window_in_days": 30,
            "description": "Used to encrypt cloudwatch logs",
            "enable_key_rotation": true,
            "id": "6dc1181d-7836-4c55-802e-9f1255f7b8ea",
            "is_enabled": true,
            "key_id": "6dc1181d-7836-4c55-802e-9f1255f7b8ea",
            "key_usage": "ENCRYPT_DECRYPT",
            "multi_region": false,
            "policy": "{\"Statement\":[{\"Action\":[\"kms:Update*\",\"kms:UntagResource\",\"kms:TagResource\",\"kms:ScheduleKeyDeletion\",\"kms:Revoke*\",\"kms:Put*\",\"kms:List*\",\"kms:Get*\",\"kms:Enable*\",\"kms:Disable*\",\"kms:Describe*\",\"kms:Delete*\",\"kms:Create*\",\"kms:CancelKeyDeletion\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::371198079589:root\"},\"Resource\":\"*\",\"Sid\":\"Allow Admin\"},{\"Action\":[\"kms:ReEncrypt*\",\"kms:GenerateDataKey*\",\"kms:Encrypt\",\"kms:DescribeKey\",\"kms:Decrypt\",\"kms:CreateGrant\"],\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"logs.us-east-1.amazonaws.com\"},\"Resource\":\"*\",\"Sid\":\"Allow Cryptography\"}],\"Version\":\"2012-10-17\"}",
            "tags": {
              "Alias": "vtbxmck-bootcamp-cloudwatch"
            },
            "tags_all": {
              "Alias": "vtbxmck-bootcamp-cloudwatch"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.module.control_plane_log_aggregation.data.aws_region.source",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key.data.aws_iam_policy_document.kms_key_policy_direct"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.control_plane_log_aggregation.module.cloudwatch_log_group_kms_key",
      "mode": "managed",
      "type": "random_string",
      "name": "random_suffix",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "id": "ogebb",
            "keepers": null,
            "length": 5,
            "lower": true,
            "min_lower": 0,
            "min_numeric": 0,
            "min_special": 0,
            "min_upper": 0,
            "number": false,
            "numeric": false,
            "override_special": null,
            "result": "ogebb",
            "special": false,
            "upper": false
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.envelope_encryption_kms_key",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "371198079589",
            "arn": "arn:aws:sts::371198079589:assumed-role/user-access/Thai_Nguyen@mckinsey.com",
            "id": "371198079589",
            "user_id": "AROAVM3JBGJSWZBKKI3BZ:Thai_Nguyen@mckinsey.com"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.envelope_encryption_kms_key",
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "kms_key_policy_direct",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "2255725490",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"Allow Admin\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"kms:Update*\",\n        \"kms:UntagResource\",\n        \"kms:TagResource\",\n        \"kms:ScheduleKeyDeletion\",\n        \"kms:Revoke*\",\n        \"kms:Put*\",\n        \"kms:List*\",\n        \"kms:Get*\",\n        \"kms:Enable*\",\n        \"kms:Disable*\",\n        \"kms:Describe*\",\n        \"kms:Delete*\",\n        \"kms:Create*\",\n        \"kms:CancelKeyDeletion\"\n      ],\n      \"Resource\": \"*\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::371198079589:root\"\n      }\n    },\n    {\n      \"Sid\": \"Allow Cryptography\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"kms:ReEncrypt*\",\n        \"kms:GenerateDataKey*\",\n        \"kms:Encrypt\",\n        \"kms:DescribeKey\",\n        \"kms:Decrypt\",\n        \"kms:CreateGrant\"\n      ],\n      \"Resource\": \"*\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::371198079589:role/vtbxmck-bootcamp-eks-cluster-role\"\n      }\n    }\n  ]\n}",
            "override_policy_documents": null,
            "policy_id": null,
            "source_policy_documents": null,
            "statement": [
              {
                "actions": [
                  "kms:CancelKeyDeletion",
                  "kms:Create*",
                  "kms:Delete*",
                  "kms:Describe*",
                  "kms:Disable*",
                  "kms:Enable*",
                  "kms:Get*",
                  "kms:List*",
                  "kms:Put*",
                  "kms:Revoke*",
                  "kms:ScheduleKeyDeletion",
                  "kms:TagResource",
                  "kms:UntagResource",
                  "kms:Update*"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "arn:aws:iam::371198079589:root"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "*"
                ],
                "sid": "Allow Admin"
              },
              {
                "actions": [
                  "kms:CreateGrant",
                  "kms:Decrypt",
                  "kms:DescribeKey",
                  "kms:Encrypt",
                  "kms:GenerateDataKey*",
                  "kms:ReEncrypt*"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "arn:aws:iam::371198079589:role/vtbxmck-bootcamp-eks-cluster-role"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [
                  "*"
                ],
                "sid": "Allow Cryptography"
              }
            ],
            "version": "2012-10-17"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.envelope_encryption_kms_key",
      "mode": "managed",
      "type": "aws_kms_alias",
      "name": "direct_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:us-east-1:371198079589:alias//aws/eks/vtbxmck-bootcamp/envelope-encryption-vulye",
            "id": "alias//aws/eks/vtbxmck-bootcamp/envelope-encryption-vulye",
            "name": "alias//aws/eks/vtbxmck-bootcamp/envelope-encryption-vulye",
            "name_prefix": "",
            "target_key_arn": "arn:aws:kms:us-east-1:371198079589:key/4ea34ae8-32a2-4783-8fd0-7490baeb5553",
            "target_key_id": "4ea34ae8-32a2-4783-8fd0-7490baeb5553"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.aws_iam_role.eks_cluster_role",
            "module.eks_cluster.data.aws_iam_policy_document.eks_cluster_role_assume",
            "module.eks_cluster.module.envelope_encryption_kms_key.aws_kms_key.direct_key",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_iam_policy_document.kms_key_policy_direct",
            "module.eks_cluster.module.envelope_encryption_kms_key.random_string.random_suffix"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.envelope_encryption_kms_key",
      "mode": "managed",
      "type": "aws_kms_key",
      "name": "direct_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:us-east-1:371198079589:key/4ea34ae8-32a2-4783-8fd0-7490baeb5553",
            "bypass_policy_lockout_safety_check": false,
            "custom_key_store_id": "",
            "customer_master_key_spec": "SYMMETRIC_DEFAULT",
            "deletion_window_in_days": 30,
            "description": "Used for EKS envelope encryption of Kubernetes secrets",
            "enable_key_rotation": true,
            "id": "4ea34ae8-32a2-4783-8fd0-7490baeb5553",
            "is_enabled": true,
            "key_id": "4ea34ae8-32a2-4783-8fd0-7490baeb5553",
            "key_usage": "ENCRYPT_DECRYPT",
            "multi_region": false,
            "policy": "{\"Statement\":[{\"Action\":[\"kms:Update*\",\"kms:UntagResource\",\"kms:TagResource\",\"kms:ScheduleKeyDeletion\",\"kms:Revoke*\",\"kms:Put*\",\"kms:List*\",\"kms:Get*\",\"kms:Enable*\",\"kms:Disable*\",\"kms:Describe*\",\"kms:Delete*\",\"kms:Create*\",\"kms:CancelKeyDeletion\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::371198079589:root\"},\"Resource\":\"*\",\"Sid\":\"Allow Admin\"},{\"Action\":[\"kms:ReEncrypt*\",\"kms:GenerateDataKey*\",\"kms:Encrypt\",\"kms:DescribeKey\",\"kms:Decrypt\",\"kms:CreateGrant\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::371198079589:role/vtbxmck-bootcamp-eks-cluster-role\"},\"Resource\":\"*\",\"Sid\":\"Allow Cryptography\"}],\"Version\":\"2012-10-17\"}",
            "tags": {
              "Alias": "/aws/eks/vtbxmck-bootcamp/envelope-encryption"
            },
            "tags_all": {
              "Alias": "/aws/eks/vtbxmck-bootcamp/envelope-encryption"
            }
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks_cluster.aws_iam_role.eks_cluster_role",
            "module.eks_cluster.data.aws_iam_policy_document.eks_cluster_role_assume",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_caller_identity.current",
            "module.eks_cluster.module.envelope_encryption_kms_key.data.aws_iam_policy_document.kms_key_policy_direct"
          ]
        }
      ]
    },
    {
      "module": "module.eks_cluster.module.envelope_encryption_kms_key",
      "mode": "managed",
      "type": "random_string",
      "name": "random_suffix",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "id": "vulye",
            "keepers": null,
            "length": 5,
            "lower": true,
            "min_lower": 0,
            "min_numeric": 0,
            "min_special": 0,
            "min_upper": 0,
            "number": false,
            "numeric": false,
            "override_special": null,
            "result": "vulye",
            "special": false,
            "upper": false
          },
          "sensitive_attributes": []
        }
      ]
    }
  ],
  "check_results": null
}
